<h1>Homework Management</h1>
<div class="col-xs-12 col-sm-3">
  <div class="panel  panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Sort By:</h3>
    </div>
    <div>
      <ul class="nav nav-pills nav-stacked">
        <li role="presentation" ng-class="{active: sortBy=='dog'}"><a ng-click="changeSortBy('dog')">Dogs</a>
        </li>
        <li role="presentation" ng-class="{active: sortBy=='title'}"><a ng-click="changeSortBy('title')">Title</a>
        </li>
      </ul>
      <div class="form-group">
        <div class="input-group">
          <input ng-model="searchDog" type="text" class="form-control" placeholder="Dog name..." />
          <div class="input-group-addon">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </div>
        </div>
      </div>
      <a class="btn btn-primary" href="#/homework">Create New</a>
    </div>
  </div>
</div>

<div class="col-xs-12 col-sm-9" ng-show="sortBy=='title'">

  <div ng-repeat="homework in homeworkByTitle |filter:{$:searchDog}">
    <div class="panel panel-primary">
      <div class="btn-group pull-right">
        <button class="btn btn-danger pull-right" ng-click="deleteHomework(homework.id)"><span class="glyphicon glyphicon-remove "></span>
        </button>
        <button class="btn btn-primary pull-right" ng-click="edit(homework.id)"><span class="glyphicon glyphicon-edit"></span>
        </button>
        <button class="btn btn-primary" ng-click="duplicateHomework(homeworkId)"><span class="glyphicon glyphicon-copy"></span>
        </button>
      </div>
      <div class="panel-heading">
        <h6 class="panel-title">{{homework.Title}} 
        </h6>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-sm-6 col-md-4">
          <dog-card dog="dog[dogsInHomework.id]" ng-repeat="dogsInHomework in homework.Dogs"></dog-card>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-8">
          <h5>Due Date: {{homework.EndDate|date:'fullDate'}}</h5>
          <label class="control-label">Status: </label>
          <div class="pull-right">
            <input bs-switch class="pull-right" type="checkbox" ng-model="LibraryList[homework.id].Status" switch-on-text="Complete" switch-off-text="Incomplete" ng-change="updateHomework(homework.id)" />
          </div>
          <h5>Description:</h5>
          <p>{{homework.Description|truncateFilter:250}}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="col-xs-12 col-sm-9" ng-show="sortBy=='dog'">
  <div ng-repeat="(dogIds,homeworkList) in dogHomeworkGroup|filter:{$:searchDog}">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <h5 class="panel-title">Homework List for {{dog[homeworkList.id].Name}}</h5>
      </div>
      <div class="panel-body">
        <div class="col-xs-12 col-sm-6 col-md-4">
          <dog-card dog="dog[homeworkList.id]"></dog-card>
        </div>
        <div class="row col-xs-12 col-sm-6 col-md-8">
          <div ng-repeat="homeworkId in homeworkList.homeworkList">
            <div>
              <div class="btn-group pull-right">
                <button class="btn btn-danger pull-right" ng-click="deleteHomework(homeworkId)"><span class="glyphicon glyphicon-remove"></span>
                </button>
                <button class="btn btn-primary pull-right" ng-click="edit(homeworkId)"><span class="glyphicon glyphicon-edit"></span>
                </button>
                <button class="btn btn-primary pull-right" ng-click="duplicateHomework(homeworkId)"><span class="glyphicon glyphicon-copy"></span>
                </button>
              </div>
              <h4>{{LibraryList[homeworkId].Title}} 
            </h4>
              <h6>Due Date: {{LibraryList[homeworkId].EndDate|date:'fullDate'}}</h6>
              <h6>Status:
              </h6>
              <div class="col-xs-12">
                <div class="pull-right">
                  <input bs-switch class="pull-right" type="checkbox" ng-model="LibraryList[homeworkId].Status" switch-on-text="Complete" switch-off-text="Incomplete" ng-change="updateHomework(homeworkId)" />
                </div>

              </div>
              <h6>Description:</h6>
              <p>{{LibraryList[homeworkId].Description|truncateFilter:250}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>