!function(){"use strict";angular.module("dogToolApp",["angular-flash.flash-alert-directive","angular-flash.service","angular-jwt","angularMoment","emguo.poller","frapontillo.bootstrap-switch","ngAnimate","ngCookies","ngFileUpload","ngResource","ngRoute","ngSanitize","ngTouch","sticky","truncate","ui.bootstrap","ui.bootstrap.pagination","ui.bootstrap.datetimepicker","ui.bootstrap.showErrors","ui.calendar","ui.router","ngStorage"])}(),angular.module("dogToolApp").controller("InvoiceCtrl",["$stateParams","FactoryInvoice","FactoryJob","FactoryJobType","FactoryBusinessInfo","flash","$scope","FactoryPeople","$window",function(e,o,t,n,i,s,a,r,l){var d=function(){t.get(e.id).success(function(e){a.bookingData=e,n.getAll().success(function(e){a.jobTypes=e}).error(function(){s.error="An error occured while loading job types."}),r.get(e.Dogs[0].Owner).success(function(e){a.ownerData=e}).error(function(e){s.error="There was a problem loading the owner"}),o.get(e.Invoice.id).success(function(e){a.invoiceData=e}).error(function(e){s.error="Sorry, there was a problem with loading the invoice"})}).error(function(e){s.error="Sorry there was a problem loading the booking information"}),a.invoiceSubTotal,a.invoiceTaxes,a.taxRate=13,a.subtotal=function(){return a.invoiceSubTotal=0,a.invoiceData?(a.invoiceData.Charges.forEach(function(e){a.invoiceSubTotal+=null!=e.JobType?a.bookingData.Jobtype.Value*e.Quantity:e.Value*e.Quantity}),a.invoiceSubTotal):0},a.taxes=function(){return a.invoiceSubTotal*(a.taxRate/100)},a.today=new Date,a.dateDue=new Date,i.get().success(function(e){a.BusinessInfo=e})};a.addCharge=function(){a.invoiceData.Charges.push({Quantity:1,Invoice:a.invoiceData.id,ServiceCustom:"",Value:0})},a.removeCharge=function(e){a.invoiceData.Charges.splice(e,1)},a.saveInvoice=function(){o.update(a.invoiceData).success(function(e){s.success="Invoice Saved"}).error(function(e){s.error="Sorry, there was a problem with loading the invoice"})},a.printInvoice=function(){l.print()},d()}]),angular.module("dogToolApp").controller("WeightListCtrl",["$scope","FactoryWeight",function(e,o){var t=function(){e.weightFormSubmitted=n,e.convertDateTakenToDate=i,e.countPerPage=5,e.page=1},n=function(){e.weightForm.$valid&&(e.processing=!0,a(e.newWeight),o.post(e.newWeight).success(s).error(r)["finally"](l))},i=function(e){return new Date(e.DateTaken)},s=function(o){e.dog.Weights.push(o),d()},a=function(o){o.DateTaken=new Date,o.Dog=e.dog.id},r=function(o){var t=e.weightForm;if(t.$invalid=!0,t.$dirty=!0,t.$submitted=!0,o.invalidAttributes)for(var n in o.invalidAttributes){t[n].$invalid=!0;var i=o.invalidAttributes[n].map(function(e){return e.rule});-1!==i.indexOf("required")?t[n].$error.required=!0:-1!==i.indexOf("float")&&(t[n].$error.number=!0)}},l=function(){e.processing=!1},d=function(){e.processing=!1,e.weightForm.$submitted=!1,e.weightForm.$dirty=!1,e.newWeight={Weight:null,DateTaken:null,Dog:null}};t()}]),angular.module("dogToolApp").factory("HelperService",function(){return{convert:{objectArrayToIdArray:function(e){var o=e.map(function(e){if("object"==typeof e)return e.id?e.id:e;throw new TypeError("Item is not an object")});return o}}}}),angular.module("dogToolApp").factory("FactoryWeight",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Weight.get(t))},getAll:function(){return e.get(o.Weight.getAll)},listen:function(){return t.get(o.Weight.listen)},post:function(t){return e.post(o.Weight.post,t)},find:function(t){return e.post(o.Weight.find,t)},update:function(t){return e.put(o.Weight.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryService",["SailsRoute","$http","poller",function(e,o,t){return{get:function(t){return o.get(e.Service.get(t))},getAll:function(){return o.get(e.Service.getAll)},post:function(t){return o.post(e.Service.post,t)},update:function(t){return o.put(e.Service.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryQuote",["SailsRoute","$http","poller",function(e,o,t){return{get:function(t){return o.get(e.Quote.get(t))},getAll:function(){return o.get(e.Quote.getAll)},post:function(t){return o.post(e.Quote.post,t)},update:function(t){return o.put(e.Quote.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryNote",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Note.get(t))},getAll:function(){return e.get(o.Note.getAll)},listen:function(){return t.get(o.Note.listen)},post:function(t){return e.post(o.Note.post,t)},find:function(t){return e.post(o.Note.find,t)},update:function(t){return e.put(o.Note.update(t.id),t)},destroy:function(t){return e["delete"](o.Note["delete"](t.id))}}}]),angular.module("dogToolApp").factory("FactoryLogin",["$http","SAILS_URL","FactoryAuthToken","PASSWORD_CERT",function(e,o,t,n){var i=o+"/login";return{login:function(){var o={passwordCert:n};return e.post(i,o).success(function(e){t.setToken(e.token)})},validate:function(){var o={token:t.getToken()};return e.post(i+"/validate",o).success(function(e){e.valid||t.delToken()})}}}]),angular.module("dogToolApp").factory("FactoryInvoice",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Invoice.get(t))},getAll:function(){return e.get(o.Invoice.getAll)},listen:function(){return t.get(o.Invoice.listen)},post:function(t){return e.post(o.Invoice.post,homework)},find:function(t){return e.post(o.Invoice.find,t)},update:function(t){return e.put(o.Invoice.update(t.id),t)},remove:function(t){return e["delete"](o.Invoice["delete"](t))}}}]),angular.module("dogToolApp").factory("FactoryHomework",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Homework.get(t))},getAll:function(){return e.get(o.Homework.getAll)},listen:function(){return t.get(o.Homework.listen)},post:function(t){return e.post(o.Homework.post,t)},find:function(t){return e.post(o.Homework.find,t)},update:function(t){return e.put(o.Homework.update(t.id),t)},remove:function(t){return e["delete"](o.Homework["delete"](t))}}}]),angular.module("dogToolApp").factory("FactoryExpense",["$http","SailsRoute","poller","Upload",function(e,o,t,n){return{get:function(t){return e.get(o.Expense.get(t))},getAll:function(){return e.get(o.Expense.getAll)},listen:function(){return t.get(o.Expense.listen)},post:function(t){return e.post(o.Expense.post,t)},find:function(t){return e.post(o.Expense.find,t)},update:function(t){return e.put(o.Expense.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryDaycare",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Daycare.get(t))},getAll:function(){return e.get(o.Daycare.getAll)},listen:function(){return t.get(o.Daycare.listen)},post:function(t){return e.post(o.Daycare.post,t)},find:function(t){return e.post(o.Daycare.find,t)},update:function(t){return e.put(o.Daycare.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryCost",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Cost.get(t))},getAll:function(){return e.get(o.Cost.getAll)},listen:function(){return t.get(o.Cost.listen)},post:function(t){return e.post(o.Cost.post,t)},find:function(t){return e.post(o.Cost.find,t)},update:function(t){return e.put(o.Cost.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryConsultation",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Consultation.get(t))},getAll:function(){return e.get(o.Consultation.getAll)},listen:function(){return t.get(o.Consultation.listen)},post:function(t){return e.post(o.Consultation.post,t)},find:function(t){return e.post(o.Consultation.find,t)},update:function(t){return e.put(o.Consultation.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryBusinessInfo",["$http","SailsRoute","poller",function(e,o,t){return{get:function(){return e.get(o.BusinessInfo.getAll)},update:function(t){return e.put(o.BusinessInfo.getAll,t)}}}]),angular.module("dogToolApp").factory("FactoryBehaviourFlag",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.BehaviourFlag.get(t))},getAll:function(){return e.get(o.BehaviourFlag.getAll)},listen:function(){return t.get(o.BehaviourFlag.listen)},post:function(t){return e.post(o.BehaviourFlag.post,t)},find:function(t){return e.post(o.BehaviourFlag.find,t)},update:function(t){return e.put(o.BehaviourFlag.update(t.id),t)}}}]),angular.module("dogToolApp").factory("FactoryAuthToken",["$rootScope","$cookies",function(e,o){var t="user_token";return{setToken:function(n){e.userLoggedIn=!0,o[t]=n},getToken:function(){return o[t]},delToken:function(){e.userLoggedIn=!1,delete o[t]}}}]),angular.module("dogToolApp").factory("FactoryAddress",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Address.get(t))},getAll:function(){return e.get(o.Address.getAll)},listen:function(){return t.get(o.Address.listen)},post:function(t){return e.post(o.Address.post,t)},find:function(t){return e.post(o.Address.find,t)},update:function(t){return e.put(o.Address.update(t.id),t)},remove:function(t){return e["delete"](o.Address["delete"](t))}}}]),angular.module("dogToolApp").directive("weightList",function(){return{templateUrl:"app/views/directives/weight-list.html",restrict:"E",scope:{dog:"="},controller:"WeightListCtrl"}}),angular.module("dogToolApp").filter("truncateFilter",function(){return function(e,o,t){if(isNaN(o)&&(o=10),void 0===t&&(t="..."),e){var n=e.split(/\s+/);n.length>o&&(e=n.slice(0,o).join(" ")+"...")}return e}}),function(){"use strict";function e(){return function(e,o,t){return(e||[]).slice(t,t+o)}}angular.module("dogToolApp").filter("slice",e)}(),function(){"use strict";angular.module("dogToolApp").controller("QuoteCtrl",["$scope","FactoryBusinessInfo","FactoryQuote","FactoryService","flash","$window",function(e,o,t,n,i,s){e.Services={},o.get().success(function(o){e.BusinessInfo=o}),e.Services.Date=new Date,e.addingService=!1,n.getAll().success(function(o){e.ServiceList=o}),e.print=function(){s.print()},e.addService=function(){e.addingService=!0},e.cancelService=function(){e.addingService=!1,e.Services=null,e.AddServiceForm.$setUntouched()},e.saveQuote=function(){e.AddServiceForm.$valid&&e.AddServiceForm.$dirty&&t.post(e.Services).success(function(){i.success="Quote has been Saved!"}).error(function(){i.error="A Problem has Occured"})},e.saveService=function(){e.cancelService()}}])}(),function(){"use strict";/**
   * @ngdoc function
   * @name dogToolApp.controller:CopyrightCtrl
   * @description
   * # CopyrightCtrl
   * Controller of the dogToolApp
   */
angular.module("dogToolApp").controller("CopyrightCtrl",["$scope",function(e){e.now=new Date}])}(),function(){"use strict";angular.module("dogToolApp").controller("BusinessinfoCtrl",["$scope","FactoryBusinessInfo","FactoryExpense","flash",function(e,o,t,n){e.Title="Business Information",t.getAll().success(function(o){e.ExpenseInfo=o}),e.addingExpense=!1,e.addExpense=function(){e.newExpense={},e.addingExpense=!0},e.cancelExpense=function(){e.newExpense={},e.addingExpense=!1,e.addExpenseForm.$setUntouched()},e.saveExpense=function(){e.addExpenseForm.$valid&&e.addExpenseForm.$dirty?i(e.newExpense):e.addingExpense=!1,e.addingExpense=!1};var i=function(e){t.post(e).success(s).error(a)},s=function(){t.getAll().success(function(o){e.ExpenseInfo=o}),e.cancelExpense()},a=function(){n.error="An error occured"};o.get().success(function(o){e.BusinessInfo=o}),e.editingInfo=!1,e.editInfo=function(){e.editedInfo=angular.copy(e.BusinessInfo),e.businessInfoForm.$setDirty(!1),e.editingInfo=!0},e.cancelEdit=function(){e.editingInfo=!1},e.saveInfo=function(){e.businessInfoForm.$valid&&e.businessInfoForm.$dirty?r(e.editedInfo):e.editingInfo=!1};var r=function(e){o.update(e).success(l).error(d)},l=function(o){e.BusinessInfo=e.editedInfo,e.editingInfo=!1,e.businessInfoForm.$setDirty(!1)},d=function(){n.error="An error occured"}}])}(),angular.module("dogToolApp").controller("PeopleViewCtrl",["$scope","$location","FactoryPeople","flash","$stateParams","FactoryDog","$modal","FactoryAddress","FactoryNote",function(e,o,t,n,i,s,a,r,l){var d=function(){c(i.id)},c=function(i){t.get(i).success(function(o){e.person=o,u(e.person)}).error(function(e,t){switch(t){case 404:n.error="Person not found";break;default:n.error="An error occured"}o.path("/people")})},u=function(e){s.find({Owner:e.id}).success(function(o){e.Dogs=o}).error(function(){n.error="An error occured loading dog info"})};e.ConfirmDelete=function(){var e=a.open({templateUrl:"app/confirm-delete/confirm-delete.modal.html",controller:"confirmDeleteModalCtrl",size:"sm",animation:!0,resolve:{}});e.result.then(function(){p()})};var p=function(){if(e.person.Notes.length>0)for(var i=e.person.Notes.length-1;i>=0;i--)l.destroy(e.person.Notes[i].id);e.person.Address&&r.remove(e.person.Address.id),t.remove(e.person.id).success(function(){n.success="Successfully deleted "+e.person.Name,o.path("/people")}).error(function(){n.error="Something went wrong, the person was not removed from the database"})};e.editInfoBtn=function(){e.editedPerson={id:e.person.id,Name:e.person.Name,Email:e.person.Email,Phone:e.person.Phone,Address:e.person.Address},e.editingInfo=!0},e.cancelInfoBtn=function(){e.editingInfo=!1},e.updateNotes=function(){t.update(e.person)},e.editInfoSubmit=function(){t.update(e.editedPerson).success(function(o){e.person=o,e.editingInfo=!1}).error(function(){n.error="An error occured"})},d()}]),angular.module("dogToolApp").controller("PeopleNewCtrl",["$scope","FactoryPeople","flash","$location",function(e,o,t,n){var i=function(){e.person={}};e.editFormSubmit=function(){o.post(e.person).success(function(e){t.success="Person created",n.path("/people/"+e.id)}).error(function(){t.error="An error occured"})},i()}]),angular.module("dogToolApp").controller("PeopleListCtrl",["$scope","FactoryPeople","flash",function(e,o,t){e.pagination={currentPage:1,limit:15},e.ownerFlag=!0;var n=function(){i()},i=function(){e.people=null,o.getAll().success(function(o){e.people=o,console.log(o)}).error(function(){t.error="A error occured while loading people."})};e.isOwner=function(o){return o&&e.ownerFlag?o.Dogs.length>0:!0},n()}]),angular.module("dogToolApp").directive("personSelectCreate",function(){return{restrict:"E",scope:{name:"@",selectedId:"@",personIdChanged:"="},templateUrl:"app/People/Directives/person-select-create.html",controller:"PersonSelectCreateCtrl"}}),angular.module("dogToolApp").directive("personPanel",function(){return{restrict:"E",scope:{panelTitle:"@",panelType:"@",person:"=",personUpdated:"=?",unlinkable:"=?"},link:function(e){e.unlinkable=angular.isDefined(e.unlinkable)?e.unlinkable:!0},templateUrl:"app/People/Directives/person-panel.html",controller:"PersonPanelCtrl"}}),angular.module("dogToolApp").directive("personInfo",function(){return{restrict:"E",scope:{person:"=",hideName:"@"},templateUrl:"app/People/Directives/person-info.html",controller:"PersonInfoCtrl"}}),angular.module("dogToolApp").directive("personEditForm",function(){return{restrict:"E",scope:{person:"=",formSubmit:"="},templateUrl:"app/People/Directives/person-edit-form.html",controller:"PersonEditFormCtrl"}}),function(){"use strict";angular.module("dogToolApp").controller("confirmNoteDeleteModalCtrl",["$scope","$modalInstance","data",function(e,o,t){e.note=t.note,e.ok=function(){o.close()},e.cancel=function(){o.dismiss("cancel")}}])}(),angular.module("dogToolApp").controller("DogViewCtrl",["$scope","$stateParams","$location","FactoryDog","flash","FactoryNote","$modal",function(e,o,t,n,i,s,a){var r=function(){l(o.id),e.editingInfo=!1,e.editOwner=!1,e.editVet=!1,e.editEmgContact=!1,e.pagination={},e.pagination.limit=10,e.pagination.currentPage=1},l=function(o){n.get(o).success(function(o){var t=o;n.processDog(t),e.dog=t}).error(function(e,o){switch(o){case 404:i.error="Dog not found";break;default:i.error="An error occured"}t.path("/")})};e.ownerUpdated=function(e){d("Owner",e)},e.vetUpdated=function(e){d("Vet",e)},e.emgContactUpdated=function(e){d("EmergencyContact",e)},e.updateNotes=function(){var o={id:e.dog.id,Notes:e.dog.Notes};n.update(o).success(function(o){e.dog=o,i.success="Notes saved"}).error(function(){i.error="An error occured while saving notes."})};var d=function(o,t){var s={id:e.dog.id};s[o]=t,n.update(s).success(function(){i.success="Dog updated"}).error(function(){i.error="Error updating dog"})};r()}]),angular.module("dogToolApp").controller("DogNewCtrl",["$scope","FactoryDog","flash","$location",function(e,o,t,n){var i=function(){e.saveBtnText="Create",e.dog={}};e.saveBtn=function(){e.dogEditForm.$setSubmitted(!0),s()&&o.post(e.dog).success(function(e){t.success="Dog Created",n.path("/dog/"+e.id)}).error(function(){t.error="Error saving dog"})};var s=function(){return e.dogEditForm.$invalid?!1:a()?!0:!1},a=function(){return e.dog.Owner?!0:!1};i()}]),angular.module("dogToolApp").controller("DogListCtrl",["$scope","$location","FactoryDog","flash","$localStorage","$stateParams",function(e,o,t,n,i,s){e.pagination={currentPage:1,limit:9},e.showDeceased=!1;var a=function(){r()},r=function(){e.dogs=i.dogs,t.getAllNoPopulate().success(function(o){i.dogs.splice(0,i.dogs.length);for(var t=o.length-1;t>=0;t--)i.dogs.push(o[t]);e.dogs=i.dogs}).error(function(){n.error="A error occured while loading dogs."})};a()}]),angular.module("dogToolApp").directive("dogInfoPanel",function(){return{restrict:"E",scope:{dog:"="},templateUrl:"app/Dog/directives/dog-info-panel.html",link:function(e){e.labels={SpayedNeutered:"Neutered"}},controller:["$scope","FactoryDog","flash",function(e,o,t){e.$watch("dog",function(){e.dog&&(e.dog.SpayedNeutered||(e.dog.SpayedNeutered="Unknown"),e.dog.Deceased||(e.dog.Deceased=!1),"Male"===e.dog.Gender?e.labels.SpayedNeutered="Neutered":"Female"===e.dog.Gender&&(e.labels.SpayedNeutered="Spayed"))}),e.editInfoBtn=function(){e.editingInfo=!0,e.dog.BehaviourFlag||(e.dog.BehaviourFlag={id:null}),e.editedDog={id:e.dog.id,Name:e.dog.Name,Breed:e.dog.Breed,Birthdate:e.dog.Birthdate,Gender:e.dog.Gender,SpayedNeutered:e.dog.SpayedNeutered,OnTiters:e.dog.OnTiters,Deceased:e.dog.Deceased,BehaviourFlag:e.dog.BehaviourFlag.id,photoURL:e.dog.photoURL},e.infoForm.$setDirty(!1)},e.saveInfoBtn=function(){console.log(e.dog),e.infoForm.$valid&&(console.log(e.editedDog),e.infoForm.$dirty?n(e.editedDog):e.editingInfo=!1)},e.cancelInfoBtn=function(){e.editingInfo=!1},e.upload=function(t){t.length>0&&o.upload(t,e.dog).progress(function(e){parseInt(100*e.loaded/e.total)}).success(function(o){e.dog.photoURL=o.photoURL})};var n=function(e){o.update(e).success(i).error(s)},i=function(t){o.processDog(t),e.dog=t,e.editingInfo=!1,e.infoForm.$setDirty(!1)},s=function(){t.error="An error occured"}}]}}),angular.module("dogToolApp").directive("dogEditForm",function(){return{restrict:"E",scope:{formCtrl:"=",dog:"="},templateUrl:"app/Dog/directives/edit-form.html",link:function(e){e.formCtrl=e.form},controller:["$scope","FactoryBehaviourFlag",function(e,o){var t=function(){o.getAll().success(function(o){e.behaviourFlags=o}),e.$watch("dog",function(){e.dog&&n(e.dog)})},n=function(e){e.Gender||(e.Gender="Unknown"),e.SpayedNeutered||(e.SpayedNeutered="Unknown"),e.OnTiters||(e.OnTiters="Unknown"),e.BehaviourFlag||(e.BehaviourFlag=null)};e.open=function(o){o.preventDefault(),o.stopPropagation(),e.opened=!0},t()}]}}),angular.module("dogToolApp").directive("dogCard",function(){return{restrict:"E",scope:{dog:"=",noClick:"=",btnText:"=",btnClick:"&",btnType:"="},templateUrl:"app/Dog/directives/dog-card.html",controller:["$scope","$location","SAILS_URL",function(e,o,t){e.dogURL=t,e.gotoDogPage=function(){e.noClick||o.path("/dog/"+e.dog.id)},e.callButtonCallback=function(o){o.stopPropagation(),e.btnClick()}}]}}),function(){"use strict";angular.module("dogToolApp").controller("CalendarEventCtrl",["$scope","$location","$timeout","$modalInstance","factoryCalendar","EVENT_COLOURS","flash","$localStorage",function(e,o,t,n,i,s,a,r){e.ok=function(){n.close()},console.log(e.event),e.UpdateEvent=function(){var o=s.event,t=new Date(e.event.start.valueOf());t.setHours(t.getHours());var a=new Date(e.event.end.valueOf());a.setHours(a.getHours()),i.update({StartDate:t,EndDate:a,Note:e.event.note,Colour:o,id:e.event.id}).success(function(){n.close();for(var o=r.calendarData.length-1;o>=0;o--)r.calendarData[o].id==e.event.id&&(e.event.title=e.event.note.Title,r.calendarData[o]=e.event)})},e.deleteEvent=function(o){i.remove(o).success(function(){e.cancel(),a.success="Removed event";for(var o=r.calendarData.length-1;o>=0;o--)r.calendarData[o].id==e.event.id&&r.calendarData.splice(o,1)})},e.cancel=function(){n.dismiss("cancel")}}])}(),function(){"use strict";angular.module("dogToolApp").controller("ModalInstanceCtrl",["$scope","$location","$timeout","$modalInstance","pass","factoryCalendar","FactoryNote","EVENT_COLOURS","$localStorage",function(e,o,t,n,i,s,a,r,l){e.startTime=i.startTime,e.endTime=i.endTime,e.allDay=i.allDay,e.ok=function(){n.close()},e.GotoDay=function(){var t=new Date(e.startTime.valueOf());t.setHours(t.getHours()+4),o.url("/jobs/day/"+encodeURI(t)),n.close()},e.CreateBooking=function(){n.close();var t=new Date(e.startTime.valueOf());t.setHours(t.getHours());var i=new Date(e.endTime.valueOf());i.setHours(i.getHours()),o.url(e.allDay?"/jobs/new/"+encodeURI(t)+"/"+encodeURI(i)+"/"+encodeURI(e.allDay):"/jobs/new/"+encodeURI(t)+"/"+encodeURI(i))},e.AddEvent=function(){n.close();var o=(r.event,new Date(e.startTime.valueOf())),t=new Date(e.endTime.valueOf());s.post({StartDate:o,EndDate:t,Note:{Title:e.title,Content:e.note,NoteType:"event",IsAllDay:e.allDay||!1},Colour:r.event}).success(function(o){a.get(o.Note).success(function(t){l.calendarData.push({id:o.id,color:o.Colour,note:t,title:e.title,start:e.day.toDate(),end:e.endDay.toDate(),allDay:e.allDay})})})},e.cancel=function(){n.dismiss("cancel")}}])}(),function(){"use strict";angular.module("dogToolApp").controller("confirmBookingDeleteModalCtrl",["$scope","$modalInstance",function(e,o){e.ok=function(){o.close()},e.cancel=function(){o.dismiss("cancel")}}])}(),function(){"use strict";angular.module("dogToolApp").controller("NewJobsCtrl",["$scope","$location","FactoryDog","flash","FactoryJob","FactoryJobType","FactoryBehaviourFlag","$window","$rootScope","HelperService","$stateParams","$localStorage",function(e,o,t,n,i,s,a,r,l,d,c,u){e.pageType="Create ",e.pagination={currentPage:1,limit:9},e.selectedJobType,e.addedDogUI=[],e.submitted=!1;var p=function(e,o){return e.setSeconds(0),e.setMinutes(0),o&&e.setHours(e.getHours()+1),e},g=function(){c.startDate&&c.endDate?(e.booking.Calendars.StartDate=new Date(decodeURI(c.startDate)),c.allDay?(e.booking.Calendars.IsAllDay=c.allDay,e.booking.Calendars.EndDate=new Date(decodeURI(c.startDate)),e.booking.Calendars.EndDate.setHours(e.booking.Calendars.StartDate.getHours()+12)):e.booking.Calendars.EndDate=new Date(decodeURI(c.endDate))):(e.booking.Calendars.StartDate=new Date,e.booking.Calendars.EndDate=new Date,e.booking.Calendars.StartDate=p(e.booking.Calendars.StartDate),e.booking.Calendars.EndDate=p(e.booking.Calendars.EndDate,!0))},m=function(){e.feeAmount,e.feeDescription,e.booking={Name:"",Dogs:[],Costs:[],Notes:[],Invoice:[],Jobtype:{id:null},Location:{},Calendars:{StartDate:null,EndDate:null}},a.getAll().success(function(o){e.colours=o}),g(),f()},v=function(o){var t=d.convert.objectArrayToIdArray(e.booking.Dogs);return-1==t.indexOf(o.id)};e.dateOptions={startingDay:1,showWeeks:!1},e.ismeridian=!0,e.hourStep=1,e.minuteStep=15;var f=function(){e.dogs=u.dogs,t.getAll().success(function(o){e.dogs=o,s.getAll().success(function(o){e.jobTypes=o}).error(function(){n.error="An error occured while loading job types."}),null!=l.bookingLog&&null==l.bookingLog.id?(e.booking=l.bookingLog,g(),e.dogs=e.dogs.filter(v)):(l.bookingLog={},l.bookingLog=e.booking)}).error(function(){n.error="An error occured while loading dogs."})};m(),e.createBooking=function(){e.selectedJobType&&(e.booking.Jobtype.id=e.selectedJobType.id),e.submitted=!0,e.addedDogUI.length>0&&(e.booking.Dogs=d.convert.objectArrayToIdArray(e.addedDogUI),i.post(e.booking).success(function(e){n.success="Job Created.",u.calendarData.push(e),r.location.href="#/jobs/"+e.id}).error(function(){n.error="An error occured while creating a new Job. Sorry but this job was not created."}))},e.bookDog=function(o){var t=e.dogs.indexOf(o);e.addedDogUI.push(o),e.dogs.splice(t,1)},e.removeDog=function(o){var t=e.addedDogUI.indexOf(o);e.dogs.push(o),e.addedDogUI.splice(t,1)},e.addFee=function(){if(""!=e.feeDescription&&null!=e.feeAmount){var o={Date:new Date,Description:e.feeDescription,Cost:e.feeAmount};e.booking.Costs.push(o)}else""==e.feeDescription&&(n.error="Please enter a description"),null==e.feeAmount&&(n.error="Please enter a fee amount in proper currency")}}])}(),function(){"use strict";angular.module("dogToolApp").controller("JobsCtrl",["$scope","FactoryDog","FactoryJob","$stateParams","factoryCalendar",function(e,o,t,n,i){e.JobList=[],e.isLoading=!0;var s=function(n){t.find({Calendars:n}).success(function(t){e.isLoading=!1,e.JobList=t;for(var n=t.length-1;n>=0;n--)for(var i=t[n].Dogs.length-1;i>=0;i--)o.get(t[n].Dogs[i].id).success(function(o){for(var t=e.JobList.length-1;t>=0;t--)for(var n=e.JobList[t].Dogs.length-1;n>=0;n--)e.JobList[t].Dogs[n].id==o.id&&(e.JobList[t].Dogs[n]=o)})})},a=function(){var o=new Date(e.date.valueOf());o.setDate(o.getDate()+1),o.setHours(0),o.setMinutes(0);var t=new Date(e.date.valueOf());t.setHours(0),t.setMinutes(0),i.find({StartDate:{"<=":o},EndDate:{">=":t}}).success(function(o){e.events=o;for(var t=[],n=0;n<e.events.length;n++)t.push(e.events[n].id);s(t)})},r=function(){e.date=n.date||new Date,a()};r()}])}(),function(){"use strict";angular.module("dogToolApp").controller("JobsEditCtrl",["$scope","$location","FactoryDog","flash","FactoryJob","FactoryInvoice","FactoryJobType","factoryCalendar","FactoryAddress","FactoryNote","FactoryBehaviourFlag","$stateParams","HelperService","$sce","$modal","$q","$localStorage",function(e,o,t,n,i,s,a,r,l,d,c,u,p,g,m,v,f){e.pageType="Update ",e.pagination={currentPage:1,limit:9},e.selectedJobType,e.addedDogUI=[],e.fullAddress=null,e.submitted=!1;var h=new Date,b=function(){a.getAll().success(function(o){e.jobTypes=o}).error(function(){n.error="An error occured while loading job types."})},y=function(){i.get(u.id).success(function(o){e.booking=o,e.booking.Calendars.EndDate=new Date(e.booking.Calendars.EndDate),e.booking.Calendars.StartDate=new Date(e.booking.Calendars.StartDate),e.isUpdated=!0;for(var t=o.Dogs.length-1;t>=0;t--)e.addedDogUI.push(w(o.Dogs[t]));e.dogs=e.dogs.filter(k),e.selectedJobType=o.Jobtype;var n="https://www.google.com/maps/embed/v1/place",i="AIzaSyBVriHiqrpv6aGFnYnFl-pbxThfuPQB3G0",s=[e.booking.Location.Street,e.booking.Location.City,e.booking.Location.Province,e.booking.Location.Country],a=s.join("+").replace(" ","+");e.fullAddress=g.trustAsResourceUrl(n+"?key="+i+"&q="+a)}).error(function(){n.error="An error occured. Unable to load booking information"})},w=function(o){for(var t=e.dogs.length-1;t>=0;t--)if(e.dogs[t].id===o.id)return e.dogs[t]},D=function(){e.booking={Name:"",Dogs:[],Costs:[],Notes:[],Invoice:[],Jobtype:{id:null},Location:{Street:" ",City:" "},Calendars:{StartDate:h,EndDate:h,IsAllDay:!1}},c.getAll().success(function(o){e.colours=o}),b(),x()},k=function(o){var t=p.convert.objectArrayToIdArray(e.booking.Dogs);return-1==t.indexOf(o.id)};e.dateOptions={startingDay:1,showWeeks:!1},e.ismeridian=!0,e.hourStep=1,e.minuteStep=1,e.timeOptions={hourStep:[1,2,3],minuteStep:[1,5,10,15,25,30]};var x=function(){e.dogs=f.dogs,t.getAll().success(function(o){e.dogs=o,y()}).error(function(){n.error="An error occured while loading dogs."})};D(),e.createBooking=function(){e.submitted=!0,e.booking.Dogs&&e.booking.Dogs.length>0&&(e.selectedJobType&&(e.booking.Jobtype=e.selectedJobType.id),e.booking.Dogs=p.convert.objectArrayToIdArray(e.booking.Dogs),i.update(e.booking).success(function(e){n.success="Job Updated";for(var o=f.calendarData.length-1;o>=0;o--)if(f.calendarData[o].id==e.id){f.calendarData[o]=e.id;break}}).error(function(){n.error="Something went wrong"}))},e.bookDog=function(o){var t=e.dogs.indexOf(o);e.addedDogUI.push(o),e.booking.Dogs.push(o),e.dogs.splice(t,1)},e.removeDog=function(o){var t=e.addedDogUI[o];e.dogs.push(t),e.addedDogUI.splice(o,1),e.booking.Dogs.splice(o,1)},e.addFee=function(){if(""!=e.feeDescription&&null!=e.feeAmount){var o={Date:new Date,Description:e.feeDescription,Cost:e.feeAmount};e.booking.Costs.push(o)}else""==e.feeDescription&&(n.error="Please enter a description"),null==e.feeAmount&&(n.error="Please enter a fee with only numbers, and no letters or symbols")},e.updateNotes=function(){},e.ConfirmDelete=function(){var e=m.open({templateUrl:"app/Booking/modal/confirm-delete.html",controller:"confirmBookingDeleteModalCtrl",size:"sm",animation:!0,resolve:{}});e.result.then(function(){C()})};var C=function(){T(),F(),A(),S(),I()},A=function(){if(e.booking.Notes&&e.booking.Notes.length>0)for(var o=e.booking.Notes.length-1;o>=0;o--)d.destroy(e.booking.Notes[o])},S=function(){e.booking.Location&&l.remove(e.booking.Location.id)},F=function(){e.booking.Calendars&&r.remove(e.booking.Calendars.id)},T=function(){e.booking.Invoice&&s.remove(e.booking.Invoice.id)},I=function(){i.remove(e.booking.id).success(function(){n.success="Successfully removed the booking";for(var t=f.calendarData.length;t>=0;t--)if(f.calendarData.jobId=e.booking.id){f.calendarData.splice(t,1);break}o.url("/")}).error(function(){n.error="Failed."})}}])}(),angular.module("dogToolApp").controller("HomeworkMngCtrl",["$scope","FactoryHomework","FactoryDog","HelperService","$location","flash","$stateParams",function(e,o,t,n,i,s,a){e.pagination={currentPage:1,limit:3};var r=function(o,t){async.each(o,function(o,t){e.dog[o.id]=o,t()},t)},l=function(o){async.each(o,function(o,t){e.LibraryList[o.id]=o,t()},function(){})};e.edit=function(e){i.url("/homework/"+e)},e.duplicateHomework=function(e){i.url("/homework/new/"+e)},e.deleteHomework=function(t){o.remove(t).success(function(o){s.success="Homework Deleted",e.dogHomeworkGroup={},e.dog={},e.LibraryList={},c(),e.$apply()}).error(function(e){s.error="Sorry but could not delete the homework"})};var d=function(){e.searchDog=a.dog,e.dogHomeworkGroup={},e.dog={},e.LibraryList={},e.sortBy="Dog.Name",c()};e.updateHomework=function(t){o.update(e.LibraryList[t]).success(function(e){s.success="Status Saved"}).error(function(e){s.error="Sorry there was an issue saving the status change"})};var c=function(){o.getAll().success(function(e){l(e),t.getAllNoPopulate().success(function(e){r(e,u)}).error(function(){s.error="A error occured while loading dogs."})})},u=function(){var o={};async.each(e.LibraryList,function(e,t){async.each(e.Dogs,function(t,n){o[t.id]={homeworkList:[],dogName:t.Name,id:t.id},o[t.id].homeworkList.push({id:e.id,EndDate:e.EndDate}),n()},function(){t()})},function(){e.homeworkByTitle=[],async.each(e.LibraryList,function(o,t){e.homeworkByTitle.push(o),t()},function(){})})};e.changeSortBy=function(o){e.pagination.currentPage=1,e.sortBy=o},d()}]),angular.module("dogToolApp").controller("HomeworkCtrl",["$scope","$location","FactoryDog","FactoryHomework","flash","$rootScope","HelperService","$stateParams",function(e,o,t,n,i,s,a,r){e.pagination={currentPage:1,limit:9},e.showDeceased=!1,e.hstep=1,e.mstep=10,e.ismeridian=!0,e.addedDogUI=[];var l=function(){d()};e.addDog=function(o){e.addedDogUI.push(o);var t=e.dogs.indexOf(o);t>-1&&e.dogs.splice(t,1)},e.removeDog=function(o){var t=e.addedDogUI.indexOf(o);e.dogs.push(o),t>-1&&e.addedDogUI.splice(t,1)};var d=function(){e.dogs=null,t.getAll().success(function(o){e.dogs=o,c()}).error(function(){i.error="A error occured while loading dogs."})},c=function(){n.get(r.id).success(function(o){e.Homework=o;var t=a.convert.objectArrayToIdArray(e.dogs);console.log(t),angular.forEach(o.Dogs,function(o,n){console.log(t.indexOf(o.id),o.id),-1!==t.indexOf(o.id)&&e.addedDogUI.push(e.dogs[t.indexOf(o.id)])}),console.log(o),e.dogs=e.dogs.filter(u),e.Homework.StartDate=new Date(e.Homework.StartDate),e.Homework.EndDate=new Date(e.Homework.EndDate),console.log("status:",e.Homework.Status)}).error(function(e){i.error="Sorry we could not access the job in question."})},u=function(o){var t=a.convert.objectArrayToIdArray(e.Homework.Dogs);return-1==t.indexOf(o.id)};e.submitHomework=function(o){e.submitted=!0,console.log("isVald:",o," Lenght",e.addedDogUI.lenght),o&&e.addedDogUI.length>0?""!=e.Homework.Title&&""!=e.Homework.Description&&(e.Homework.Dogs=a.convert.objectArrayToIdArray(e.addedDogUI),n.update(e.Homework).success(function(e){s.HomeworkSubmitted=!0,i.success="Homework Saved"}).error(function(e){})):i.error="You must add a dog before submitting a homework task"},l()}]),angular.module("dogToolApp").controller("HomeworkNewCtrl",["$scope","$location","FactoryDog","FactoryHomework","flash","$rootScope","HelperService","$window","$stateParams",function(e,o,t,n,i,s,a,r,l){e.pagination={currentPage:1,limit:9},e.showDeceased=!1,e.hstep=1,e.mstep=10,e.ismeridian=!0,e.addedDogUI=[];var d=function(){c(),e.Homework={Title:"",Description:"",Dogs:[],Notes:[],StartDate:new Date,EndDate:new Date,Status:!1},null!=l.id&&n.get(l.id).success(function(o){e.Homework.Title=o.Title,e.Homework.Description=o.Description})};e.addDog=function(o){e.addedDogUI.push(o);var t=e.dogs.indexOf(o);t>-1&&e.dogs.splice(t,1)},e.removeDog=function(o){var t=e.addedDogUI.indexOf(o);e.dogs.push(o),t>-1&&e.addedDogUI.splice(t,1)};var c=function(){e.dogs=null,t.getAll().success(function(o){e.dogs=o}).error(function(){i.error="A error occured while loading dogs."}),s.HomeworkSubmitted?(s.HomeworkSubmitted=!1,s.HomeworkLog={Title:"Unnamed",Description:"",Dogs:[],Notes:[],StartDate:new Date,EndDate:new Date}):e.Homework=s.HomeworkLog};e.submitHomework=function(o){e.submitted=!0,o&&""!=e.Homework.Title&&""!=e.Homework.Description&&(e.Homework.Dogs=a.convert.objectArrayToIdArray(e.addedDogUI),n.post(e.Homework).success(function(e){s.HomeworkSubmitted=!0,i.success="Homework Saved",r.location.href="#/homework/"+e.id}).error(function(e){i.error="Failed to Sve Homework"}))},d()}]),function(){"use strict";angular.module("dogToolApp").controller("confirmDeleteModalCtrl",["$scope","$modalInstance",function(e,o){e.ok=function(){o.close()},e.cancel=function(){o.dismiss("cancel")}}])}(),angular.module("dogToolApp").service("SailsRoute",["SAILS_URL",function(e){var o=function(o){return{route:e+"/"+o,getAll:e+"/"+o,listen:e+"/"+o,post:e+"/"+o,find:e+"/"+o+"/find",get:function(e){return this.route+"/"+e},update:function(e){return this.route+"/"+e},"delete":function(e){return this.route+"/"+e}}};return{Dog:o("dog"),Cost:o("cost"),Calendar:o("calendar"),Weight:o("weight"),Daycare:o("daycare"),Note:o("note"),People:o("people"),Homework:o("homework"),Address:o("address"),Consultation:o("consultation"),Job:o("job"),BehaviourFlag:o("behaviourflag"),BusinessInfo:o("businessinfo"),Expense:o("expense"),JobType:o("jobtype"),Service:o("service"),Quote:o("quote"),Invoice:o("invoice")}}]),function(){"use strict";angular.module("dogToolApp").constant("EVENT_COLOURS",{event:"#01997b",booking:"#3a87ad"})}(),angular.module("dogToolApp").constant("EVENT_COLOUR","#01997b").constant("SAILS_URL","http://45.55.202.32/api/dogtool").constant("PASSWORD_CERT","w3bhyH1jiwddjRC4iyJX1CjMIv7sazqWWjCbc5Bf6LK7NYFAFw56Z7XdYqPfUzmvcRXgBfMmmt7NlxcWkG7XQdZj7LiuwN9qE229f2DeQtV8fHPbRGrOVvnHBTkTCf63unCn86n3IRmU2DS41Yxc3mtWjyPYExs1Xx3kE5pZOCaYI4dPTBQQBLXRTtbiWt65jzUWxWXJEIprcqIUgjkeUSY7jU8mdsfTTaLZJ7zAtSq3hxr2hjXD49qUS7YNu7pXh3Ih3nAW7bqMeXeD4eVtjdwWZqmJwONiLQsdfmOMgSM9t3tv7XKealWmusecq4BwJVxjgqnBe7qr7SlMymcEcFPGAsJP8KfqlckAQl7jA1YQsFW9DWb8FRFNQYiHd3hDPq9U71eXxCIpbBJ15yASkR3Ssb385gQj26On46V5WbfESn8itbhY51DXPdQb8zTbs5D79uKkgytZXyDMajxGXSzxaIEqyqE2auxtjizFgMmG65IvFrYz6dveCwpJuyHmuL42kWhnSnrHN58qpc1wzHVSw1DD3wPuw2XKpkrqpjSDJ5wBaVmpL2UEhXO9wlxy5r15bzQkx4jV9rgPjq7LsdnkKlb46qLWHZujIX8NrBwBGiaLxHHlEUBO6P1B863HMjHc4Rd8rGeryMJkkwIHxhnnhi8YiJAX3OjqhdIx4GCqxXbFpcI1KGTr2CgmWWujWyGns9qGM5WETdWMwHltkGMZvVjXBGaWC24KsCHdqACGE16IrMjqc7pVk8GzFfFpnaqtaiN69WxeOScKbS7faZOINXm72ZDczNROJuKUlhtiE5NzQzvN99qOIN6TRwLw8PF1pSe3pJwvxZVnZzDSizYENsB755qIz9ZsDOyFjrRE4DarsiMLbEE7mgt8ideNmROBhiq7z7AKPEpxeLEgycX969EHUtv8SzISFRGvXBlhGGzb3hIjstAwwX5Hn9zvLmt3WSKIId9pGFhyHTGnGtDj44Q2uIKXUm8bAWzKCDkJPsTD2cWe6aTgIpWjTdPLabOqEcMJSIQa3TniVZFys5WyRY6YOznefE3sBlfke5AQRrGgRwUNxrOyCPZPenEKXVAySYniUfwje1OMia9lXBzOIDkUNSnNczSpO1DDGuZnVbmUeXU55mAjpXMQAWcyACUQmndWjH3wcPGpQLsZLWsub7ZD6RAuBspNLbEppV9FBCyhENG2PmG6sslQbv2H73qCxZHH6U9fLhgKS4MliHnb6gi7kuNZkvrOPMMYLmBq7DxvOHs2FgGjz4ODelSXrs7cr7b5fhBkf7U65gQXW2vU5RG4MmqTAm65gxkReQIe6fs1CHtm3q5tZvhsDLxPBQiHCRLALtLLWIzXvRM1PV67uicsbbF6XGYSZsLUIW5l3Z8OJKMuOheCaR9qpR5rrSxR1zdWLYcOKf68eRGRIx2ArVzPV6LEJBryhhcuGp6tMmXD7Y5H1XxSveUx6nULd5RqGPGSIujyOVfUzUCVQuzw8Av9w9VdSAEeDMvis9xXqJpzQQ3tBfAQVqRvXUzPr49R61POhsKzjRf6knsJmntscDxweQlOj2YAvnIWsE9glXv21YieqaAHDvZ6JImAmaUxPvDyLpD3GJqhrkQcWinfzJlLSAl2NmQ6HR1cMN1Ubpjgx12K3aZvm9tMyj42CMJwtER5zgzzkFxzcrrPlqFknzAEKlnvxxzptjIzkDmkqqJa7Dyt8E5fCqyLFGLVuda4brZi5THaG9tTNi6kWz3BmxTaJ4WShqe9jMTYcORW1RkcJnzxqB19Abmnn8gmjEBUMWqC2ExFFJLTgMacDYIzHeP6cmY2bjxkqb7cEeAfaVzH6uMfgBR12jFVcNVQ4DvPDSbnVS8rq7ENaMwBEjrkWMaDHkWqfiN6ZKgsigSwZqCVVnfQzQvA1Ce69M5ddOTgl1aFUtLHCCtlv5SRxki6UsvMuJ4UliDgVC46OGBabVCYa6Miqzw1g9WCYgy5mCmIawL9KnZOS7mnN5gAe7zVebfcK89b7Z53IOxKP3RxtYyORFxwieM5ySjNXmdEdQ2g2eIQGgQq8CX5rmfcBuYiCTJxt9hlt3mC8XcOkJukWNX1J6FAKduWK7y8VXz4gJEDhxCpW7fjj5O3yqJgwxUlIrMibiR4V8ljvnOPLq2gkTTfhTrwjPf3J42zDxsIp7EPFJW8xnZvBmadEJlesqtUCdncnbGDJKgwWzwWVS4qArWX4yLfDwrNXKDOtSRSWH7anIwbu7rrw4TWghJIB9qCuNrxCmxbGL6JzU2Qayz1tTRwgM6RZ9rshZPRbOhlaUuTbycyhaMMSQUQOPnKF7PIwVuKKy5SLRwyezuRDxEFUFzlKfU7h2R5QAK1u8zWsfQPtPJ9gLFjSBi9rYzmJUEAHivv117fwMNBmUOP2U1yhbSw4WxAU8aKsxKMlE5yabODP56qcPtZHNV4q8T6eKYZ5g5yheeVVQkQPwIAwE8KpVvSCzjYDVWEj9sQun4z4OdPhNk3h5TzQQeHNtJZCayWZqbSL1NsNmDbQmgNIDptLNal6enAZjrO9ExWuAMTQWe5bxTYyCazcR5ke1AaVtamp7LdvXvpjwD3dQqJCffp4lWpjG7weRWjwAE5l74EIIQFsXe3LjXDHvNHhhcfML84MXebE7erkxxb6wxQQwgCAvX5eEcQ6BlvfNwCFvEXQhLGDqZFiOvtKIvvU1kqLD33w4ShHv96QvgF85idF2GmQHSLbPCQja6NHHfQOPW6795ud7A4EbCxWSeUPRXW5z1fjizMsPncDA9FThYjl3CmRsTIedhPXOKtynpDc5NmK3MUaaRqDsZPY3PnVpcDv3dtuyutEE98Q2SXjSktOeZBuJMQHb33JePAN8NNlwg9PkmK3X7CFu28HN3POfhcMKDnXFInyGD6MtI19GAYUOGH9C7SQZFIFPNHscSWgTEESqshpRrbIjBg1HBKizfOwuVpjEq5dkglwDL9k7RIXTaFpLI2fNcfRl9nna9yIaslGyaDUBQN1uIWLBYKyCEYhTetuydA8nhR39xRqn2DyFbCKRb2tsT6IKbHVmtu4Ly9UHcYpx3uSYJx11S4xH5EXJzOEM4Nij7NUbDks81vCvtS8ROhTNnbq8PSfHEyE5QWX9zkhwwAqHhMI8fjs3Q7N3478DrXp8W7tzUf1QjQmWUf9JSpRUTAmQWJ9dZTZZl543qPaiMY1MB5ITltVz7yTwN3WmiDpngcrx88znhKDjfpfXLDDCbkVOyYg2ptaRiqSXqT2WhlnuuriszOUL4DnJNl1GwclYMmWQ8nj9x9yxeaqPJAnNmAsLyNw97X5gizubJkJIipmtnl5qNn1BDVOgSdLAGsuyQr7MUQKVJJHQJddkb4NiCBadMDDZRtrFT9Q84rdlPB7QlfjXTbO7BkBt1cjr6zvpq9xYAkcQA7MpDzMvmvk4yux4gcVBhhL7EmqcbIHllFbj59IevVJgvFagLCPMGkI8k3n8vdmA2XV1NglPnpsbqfjirJz4djdOhQAkuW8kwWcc8bHacstd6ItxC2OiztLY1x97mp16yETLdS2TAL6fDASvjmRtDytVTyvke2Qj3Cq4laf1i5ldDEJSF1r9Lhy795mIc4K5FnerGPNM8suW9JqmnL8DZV45amRn5sm5gcKOOULZgeXuralyhuzjeMyVCnXjv8xGTdkR1z5sFLIZHPnK6VeRBIYeuqL82JQr54gfWzfMM4ITuCB7lQPRGWRtt1CKhBl1pZQGBRFTf1ilKqqtxaU1d5F5DPm48IA5rHGm5enqliCg6JyqkUZjWOkqsrggIGKkBNipEnP3KRK6OQbum1BD7ynCNsAGLMgccYNieitiBE3PEHCIF7pMIN6SxV9Z7hHaUqt1ERPGmyJHu1bEc7ED9VCKH1Qzls5kAcrpU2nlQcs5weNq9467u3kJPNxFywvt442VlbpwOsK1yP5EhNdyDguBYKHl32LBy9KKYLKOMjsvVWwQ8ONeS1Ah26AusEqrvYOAGcajBs7bJfhZM2rsKN8fGA34h8f1epxSa5Umt5PG8DinHF6QdaKqK2DILzizOePGP3sarEFK4dyMSAvxQ5EYJ3"),angular.module("dogToolApp").controller("PersonSelectCreateCtrl",["$scope","FactoryPeople","flash",function(e,o,t){var n=function(){s(),a(),e.$on("editMode.disabled",s)};e.selectFormSubmit=function(){e.selectForm.$valid&&i()},e.createFormSubmit=function(){o.post(e.newPerson).success(function(o){e.people.push(o),e.selectedId=o.id,e.newPerson={},i()}).error(function(){t.error="An error occured"})};var i=function(){e.personIdChanged&&e.personIdChanged(e.selectedId)},s=function(){e.mode="",e.selectForm&&(e.selectForm.$setPristine(!0),e.selectForm.$setUntouched(!0)),e.createForm&&(e.createForm.$setPristine(!0),e.createForm.$setUntouched(!0))},a=function(){o.getAll().success(function(o){e.people=o})};n()}]),angular.module("dogToolApp").controller("PersonPanelCtrl",["$scope","FactoryPeople",function(e,o){var t=function(){e.editMode=!1};e.enableEditMode=function(){e.editMode=!0},e.disableEditMode=function(){e.editMode=!1,e.$broadcast("editMode.disabled")},e.unlinkPerson=function(){e.unlinkable&&(e.person=null,n(null))},e.personIdChanged=function(t){o.get(t).success(function(o){e.person=o,e.disableEditMode(),n(t)})};var n=function(o){e.personUpdated&&e.personUpdated(o)};t()}]),angular.module("dogToolApp").controller("PersonInfoCtrl",["$scope","FactoryAddress",function(e,o){var t=function(){e.$watch("person",function(e){e&&n(e)})},n=function(e){"string"==typeof e.Address&&o.get(e.Address).success(function(o){e.Address=o})};t()}]),angular.module("dogToolApp").controller("PersonEditFormCtrl",["$scope","FactoryAddress",function(e,o){var t=function(){e.$watch("person",function(e){e&&n(e)})},n=function(e){"string"==typeof e.Address&&o.get(e.Address).success(function(o){e.Address=o})};e.editFormSubmit=function(){e.editForm.$valid&&e.formSubmit&&e.formSubmit()},t()}]),angular.module("dogToolApp").factory("FactoryPeople",["SailsRoute","$http","poller",function(e,o,t){return{get:function(t){return o.get(e.People.get(t))},getAll:function(){return o.get(e.People.getAll)},listen:function(){return t.get(e.People.listen)},post:function(t){return o.post(e.People.post,t)},find:function(t){return o.post(e.People.find,t)},update:function(t){return o.put(e.People.update(t.id),t)},remove:function(t){return o["delete"](e.People["delete"](t))}}}]),angular.module("dogToolApp").directive("notesPanel",function(){return{restrict:"E",scope:{notes:"=",defaultTypes:"=",onNotesChanged:"&",showSaveBtn:"=?",panelTitle:"=",panelType:"="},templateUrl:"app/views/directives/notes-panel.html",link:function(e,o,t){angular.isDefined(t.showSaveBtn)||(e.showSaveBtn=!0)},controller:["$scope","FactoryNote","flash","$modal",function(e,o,t,n){e.tabs=[],e.$watch("notes",function(){e.notes&&(e.tabs.forEach(function(e){e.notes=[]}),e.notes.forEach(function(o){var t=a(o.NoteType);null===t&&(t={name:o.NoteType,notes:[]},e.tabs.push(t)),t.notes.push(o)}))}),e.$watch("defaultTypes",function(){e.defaultTypes&&e.defaultTypes.forEach(function(o){var t=a(o);null===t&&(t={name:o,notes:[]},e.tabs.push(t))})}),e.saveAllNotes=function(){async.map(e.notes,i,function(o,t){e.notes=t,e.onNotesChanged()})},e.saveNoteOnBlur=function(e){
if(e.Title&&e.Content){console.log("blurred");var t;t=e.id?o.update(e):o.post(e),t.success(function(e){}).error(function(e){})}};var i=function(e,t){var n;n=e.id?o.update(e):o.post(e),n.success(function(e){t(null,e)}).error(function(e){t(e)})};e.comfirmDelete=function(e){var o=n.open({templateUrl:"app/Note/Modal/confirm-note-delete.html",controller:"confirmNoteDeleteModalCtrl",size:"sm",animation:!0,resolve:{data:function(){return{note:e}}}});o.result.then(function(){s(e)})};var s=function(n){var i=e.notes.indexOf(n);o.destroy(n).success(function(o){e.notes.splice(i,1);var t=a(n.NoteType),s=t.notes.indexOf(n);t.notes.splice(s,1),e.onNotesChanged()}).error(function(e){t.error="An error occured while deleteing the Note"})};e.addNote=function(n){var i={Title:"",Content:"",NoteType:n.name};o.post(i).success(function(o){e.notes.push(o),n.notes.push(o),e.onNotesChanged()}).error(function(){t.error="An error occured while creating a Note"})};var a=function(o){var t=null;return e.tabs.forEach(function(e){null===t&&e.name===o&&(t=e)}),t}}]}}),function(){"use strict";angular.module("dogToolApp").directive("navigation",function(){function e(e,o){e.$state=o}return e.$inject=["$scope","$state"],{restrict:"E",scope:!0,templateUrl:"app/Header/navigation.html",controller:e}})}(),angular.module("dogToolApp").factory("FactoryDog",["$http","SailsRoute","SAILS_URL","poller","Upload",function(e,o,t,n,i){return{get:function(t){return e.get(o.Dog.get(t))},getAll:function(){return e.get(o.Dog.getAll)},getAllNoPopulate:function(){return e.get(o.Dog.getAll+"?populate=[BehaviourFlag,Owner]")},listen:function(){return n.get(o.Dog.listen)},post:function(t){return e.post(o.Dog.post,t)},find:function(t){return e.post(o.Dog.find,t)},update:function(t){return e.put(o.Dog.update(t.id),t)},upload:function(e,o){return i.upload({url:t+"/Dog/uploadPhoto/"+o.id,file:e[0]})},processDog:function(e){e.Birthdate?(e.Birthdate=new Date(e.Birthdate),e.Age=moment(e.Birthdate).fromNow(!0)):(e.Birthdate=void 0,e.Age=void 0)}}}]),function(){"use strict";angular.module("dogToolApp").factory("factoryCalendar",["$http","SailsRoute","poller","$localStorage",function(e,o,t,n){return{get:function(t){return e.get(o.Calendar.get(t))},getAll:function(t){return e.get(o.Calendar.getAll)},listen:function(){return t.get(o.Calendar.listen)},post:function(t){return e.post(o.Calendar.post,t)},find:function(t){return e.post(o.Calendar.find,t)},update:function(t){return e.put(o.Calendar.update(t.id),t)},remove:function(t){return delete _.find(n.calendarData,function(e){return e.id===t}),e["delete"](o.Calendar["delete"](t))}}}])}(),function(){"use strict";angular.module("dogToolApp").controller("CalendarCtrl",["$scope","$location","$timeout","factoryCalendar","FactoryJob","FactoryNote","$modal","$modalStack","EVENT_COLOURS","flash","$interval","$localStorage","$state",function(e,o,t,n,i,s,a,r,l,d,c,u,p){e.hstep=1,e.mstep=15;var g=!1,m=0;e.ismeridian=!0,e.toggleMode=function(){e.ismeridian=!e.ismeridian},e.update=function(){var o=new Date;o.setHours(14),o.setMinutes(0),e.mytime=o},e.clear=function(){e.mytime=null},u.calendarData=u.calendarData||[],e.eventSources=[u.calendarData],e.addingEvent=!1,e.allDay=!0,e.monthNote={},e.monthTitle=null,e.monthNoteExists=!1,e.NOTE_TYPE="MonthNote";var v=function(t){t.jobId?o.url("/jobs/"+t.jobId):r.getTop()||(e.event=t,a.open({animation:!0,templateUrl:"app/Calendar/modal/event.html",controller:"CalendarEventCtrl",scope:e}))},f=function(o,t,n){e.day=o,t.clone?e.endDay=t:(e.endDay=o.clone(),e.endDay.add(1,"h"),e.allDay=!0),e.startTime=e.day.toDate(),e.endTime=e.endDay.toDate();var i={startTime:e.startTime,endTime:e.endTime,allDay:n};r.getTop()||g||(g=!0,a.open({animation:!0,templateUrl:"app/Calendar/modal/selection.html",controller:"ModalInstanceCtrl",scope:e,resolve:{pass:function(){return g=!1,i}}}))},h=function(e){var o=e.end?e.end.toDate():null,t=e.start.toDate();o||t.setHours(t.getHours()+4),n.update({StartDate:e.start.toDate(),EndDate:o,id:e.id})},b=function(e,o,t,n){var i=!1;"month"==n.type&&e.add(12,"h"),f(e,o,i),$("#calendar").fullCalendar("unselect")},y=function(o,t){e.monthTitle=o.title,s.find({Title:e.monthTitle,NoteType:e.NOTE_TYPE}).success(function(o){o.length>0?(e.monthNoteExists=!0,e.monthNote=o[0]):(e.monthNoteExists=!1,e.monthNote={})})};e.uiConfig={calendar:{editable:!0,height:"auto",selectable:!0,nextDayThreshold:"00:00:00",eventLimit:!0,header:{left:"title",center:"today prev,next",right:"month, agendaWeek, agendaDay"},select:b,eventClick:v,timezone:"local",eventResize:h,eventDrop:h,viewRender:y}};var w=function(e,o,t,n){var i=n?l.event:l.booking,s=e.Colour||i;async.forEachOf(u.calendarData,function(t,i,a){var r=!1;t.id===e.id&&e.StartDate&&e.EndDate&&(r=!0,u.calendarData[i].title=o,u.calendarData[i].start=new Date(e.StartDate),u.calendarData[i].end=new Date(e.EndDate),u.calendarData[i].note=n,u.calendarData[i].color=s),a(r)},function(i){!i&&e.StartDate&&e.EndDate&&u.calendarData.push({title:o,start:new Date(e.StartDate),end:new Date(e.EndDate),allDay:e.IsAllDay,color:s,jobId:t,note:n,id:e.id,stick:!0})})},D=function(e,o){i.get(e.Jobs[0].id).success(function(t){w(e,o+" - "+t.Jobtype.Name,t.id)})};e.SaveMonthNote=function(o){e.monthNote.Title=e.monthTitle,e.monthNote.NoteType=e.NOTE_TYPE,m%4==0&&(e.monthNoteExists?s.update(e.monthNote).success(function(e){o||(d.success="Note created")}):s.post(e.monthNote).success(function(t){o||(d.success="Note updated"),e.monthNoteExists=!0})),m%4==0?m=0:m++},e.reload=function(){delete u.calendarData,p.go("calendar",null,{reload:!0})};var k=function(){n.getAll().success(function(e){async.each(e,function(e,o){var t,n,i=!1;return e.Note?(t=e.Note.Title,n=e.Note,w(e,t,null,n)):e.Jobs&&e.Jobs.length>0&&(t=e.Jobs[0].Name,i=!0,D(e,t)),o()},function(e){})})};k()}])}(),angular.module("dogToolApp").factory("FactoryJobType",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.JobType.get(t))},getAll:function(){return e.get(o.JobType.getAll)},listen:function(){return t.get(o.JobType.listen)},post:function(t){return e.post(o.JobType.post,t)},find:function(t){return e.post(o.JobType.find,t)},update:function(t){return e.put(o.JobType.update(t.id),t)}}}]),function(){"use strict";angular.module("dogToolApp").factory("FactoryJob",["$http","SailsRoute","poller",function(e,o,t){return{get:function(t){return e.get(o.Job.get(t))},getAll:function(){return e.get(o.Job.getAll)},listen:function(){return t.get(o.Job.listen)},post:function(t){return e.post(o.Job.post,t)},find:function(t){return e.post(o.Job.find,t)},update:function(t){return e.put(o.Job.update(t.id),t)},remove:function(t){return e["delete"](o.Job["delete"](t))}}}])}(),function(){"use strict";angular.module("dogToolApp").run(["$location","FactoryLogin","amMoment","$localStorage","$state",function(e,o,t,n,i){i.go("working"),n.calendarData=n.calendarData||[],n.dogs=n.dogs||[],o.validate().success(function(e){e.valid?i.go("dogs"):o.login().success(function(){i.go("dogs")})}).error(function(e){})}])}(),function(){"use strict";angular.module("dogToolApp").config(["$stateProvider","pollerConfig","flashProvider","jwtInterceptorProvider","$httpProvider","$localStorageProvider","$urlRouterProvider",function(e,o,t,n,i,s,a){s.setKeyPrefix("NotJustKibble"),t.successClassnames.push("alert-success"),t.infoClassnames.push("alert-info"),t.warnClassnames.push("alert-warning"),t.errorClassnames.push("alert-danger"),e.state("dogs",{url:"/dogs",templateUrl:"app/Dog/dog-list/list.html",controller:"DogListCtrl"}).state("dogs_new",{url:"/dog/new",templateUrl:"app/Dog/dog-new/new.html",controller:"DogNewCtrl"}).state("working",{url:"/working",template:"<h1>Working...</h1>"}).state("dog_detail",{url:"/dog/:id",templateUrl:"app/Dog/dog-view/view.html",controller:"DogViewCtrl"}).state("jobs",{url:"/jobs",templateUrl:"app/Booking/List/job-list.html",controller:"JobsCtrl"}).state("jobs_day",{url:"/jobs/day/:date",templateUrl:"app/Booking/List/job-list.html",controller:"JobsCtrl"}).state("jobs_new",{url:"/jobs/new",templateUrl:"app/Booking/New/job-new.html",controller:"NewJobsCtrl"}).state("jobs_detail",{url:"/jobs/:id",templateUrl:"app/Booking/New/job-new.html",controller:"JobsEditCtrl"}).state("jobs_new_specific",{url:"/jobs/new/:startDate/:endDate",templateUrl:"app/Booking/New/job-new.html",controller:"NewJobsCtrl"}).state("people",{url:"/people",templateUrl:"app/People/People-List/list.html",controller:"PeopleListCtrl"}).state("person",{url:"/person/new",templateUrl:"app/People/People-New/new.html",controller:"PeopleNewCtrl"}).state("person_detail",{url:"/person/:id",templateUrl:"app/People/People-View/view.html",controller:"PeopleViewCtrl"}).state("calendar",{url:"/calendar",templateUrl:"app/Calendar/view.html",controller:"CalendarCtrl"}).state("quote",{url:"/quote",templateUrl:"app/views/quote.html",controller:"QuoteCtrl"}).state("homework",{url:"/homework",templateUrl:"app/homework/homework.html",controller:"HomeworkNewCtrl"}).state("homework_new",{url:"/homework/new/?id",templateUrl:"app/homework/homework.html",controller:"HomeworkNewCtrl"}).state("homework_detail",{url:"/homework/:id",templateUrl:"app/homework/homework.html",controller:"HomeworkCtrl"}).state("businessInfo",{url:"/businessInfo",templateUrl:"app/views/businessinfo.html",controller:"BusinessinfoCtrl"}).state("library",{url:"/library",templateUrl:"app/homework/homeworkManagement.html",controller:"HomeworkMngCtrl"}).state("library_dog",{url:"/library/:dog",templateUrl:"app/homework/homeworkManagement.html",controller:"HomeworkMngCtrl"}).state("invoice",{url:"/invoice/:id",templateUrl:"app/views/invoice.html",controller:"InvoiceCtrl",controllerAs:"invoice"}),a.otherwise("/dogs"),o.stopOnRouteChange=!0,n.authHeader="Token",n.authPrefix="",n.tokenGetter=["FactoryAuthToken",function(e){return e.getToken()}],i.interceptors.push("jwtInterceptor"),i.defaults.headers.common.Accept="application/json, text/plain, */*"}])}(),angular.module("dogToolApp").run(["$templateCache",function(e){e.put("app/Calendar/view.html",'<div class="col-xs-12"><button type="button" class="btn btn-warning col-xs-offset-10 col-xs-2" ng-click="reload()">Reload Calendar</button><div class="clearfix col-xs-12"></div></div><div class="col-xs-12"><div ui-calendar="uiConfig.calendar" ng-model="eventSources" class="col-xs-12"></div></div><div class="form-group col-xs-12"><h4>Notes:</h4><textarea rows="5" class="form-control" ngchange="SaveMonthNote(true)" ng-model="monthNote.Content"></textarea> <button type="button" ng-click="SaveMonthNote()" class="btn btn-primary pull-right">Save Note</button></div>'),e.put("app/Header/navigation.html",'<div class="navbar navbar-default" role="navigation"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="#/">Not Just Kibble</a></div><div class="collapse navbar-collapse" id="js-navbar-collapse"><ul class="nav navbar-nav navbar-right"><li ng-class="{\'active\': $state.current.name.indexOf(\'dog\') !== -1}"><a href="#/">Dogs</a></li><li ng-class="{\'active\': $state.current.name.indexOf(\'calendar\') !== -1}"><a href="#/calendar">Calendar</a></li><li ng-class="{\'active\': $state.current.name.indexOf(\'businessInfo\') !== -1}"><a href="#/businessInfo">Admin</a></li><li ng-class="{\'active\': $state.current.name === \'jobs\'}"><a href="#/jobs">Today</a></li><li ng-class="{\'active\': $state.current.name.indexOf(\'jobs_new\') !== -1 || $state.current.name.indexOf(\'jobs_detail\') !== -1}"><a href="#/jobs/new">Jobs</a></li><li ng-class="{\'active\': $state.current.name.indexOf(\'homework\') !== -1}"><a href="#/library">Homework</a></li></ul></div></div></div>'),e.put("app/confirm-delete/confirm-delete.modal.html",'<div class="modal-header"><h3 class="modal-title">Are you sure you want to delete this?</h3></div><div class="modal-body"><p>This action cannot be undone, are you sure you wish to continue?</p></div><div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">Delete Booking</button> <button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>'),e.put("app/homework/homework.html",'<div class="visible-print-block"><h3 class="text-center">Not Just Kibble</h3><hr><br><h4>{{Homework.Title}}<h5>Date Assigned: {{Homework.StartDate|date:\'fullDate\'}}</h5><h5>Date Due: {{Homework.EndDate|date:\'fullDate\'}}</h5><h4 ng-show="addedDogUI.length>0">For Dog(s)</h4><h4 ng-show="addedDogUI.length==0" class="text-danger">No Dogs Added</h4><p ng-if="addedDogUI.length==0 && submitted" class="text-danger">Please add a dog.</p><div class="col-xs-12 col-lg-12"><ul><li ng-repeat="dogInPrint in addedDogUI | orderBy:\'Name\' track by $index" class="">{{dogInPrint.Name}}</li></ul></div><h4 class="">Description:</h4><p class="print-whiteSpace">{{Homework.Description}}</p><div ng-if="Homework.Notes.length>0"><h4>Notes:</h4><div ng-repeat="printNote in Homework.Notes|filter:{\'NoteType\':\'General\'}" class="col-xs-12"><h6>{{printNote.Title}}</h6><p class="print-whiteSpace">{{printNote.Content}}</p></div></div></h4></div><div class="hidden-print"><h1>Homework: {{Homework.Title}} <button class="btn btn-primary pull-right" ng-click="submitHomework(homeworkForm.$valid)"><i class="glyphicon glyphicon-floppy-disk"></i> Save</button> <button class="btn btn-primary pull-right" onclick="window.print()"><i class="glyphicon glyphicon-print"></i> Print</button></h1><form id="homeworkForm" name="homeworkForm" novalidate=""><div class="col-sm-6"><div id="homeworkTextArea" class="col-xs-12"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Homework Title and Description:</h3></div><div class="panel-body"><div class="input-group col-xs-12" ng-class="{\'has-error\':homeworkTitle.$invalid && submitted}"><label for="homeworkTitle" class="control-label">Homework :</label> <input id="homeworkTitle" name="homeworkTitle" class="form-control" type="text" ng-model="Homework.Title" placeholder="Unnamed" required=""></div><div class="form-group"><label for="homeworkDescription">Homework Description:</label> <textarea id="homeworkDescription" ng-model="Homework.Description" class="form-control col-xs-12" placeholder="Homework Description" required="">\r\n                        </textarea></div></div></div></div><div id="homeworkDates" class="col-xs-12"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Dates and Status:</h3></div><div class="panel-body"><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><label for="homeworkStart" class="control-label">Homework Assigned Date:</label><br><input type="date" ng-model="Homework.StartDate" class="form-control" id="homeworkStart"></div><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><label for="homeworkEnd" class="control-label">Homework Due Date:</label><br><input type="date" ng-model="Homework.EndDate" class="form-control" id="homeworkEnd"></div><label class="control-label">Status:</label><div class="pull-right"><input bs-switch="" class="pull-right" type="checkbox" ng-model="Homework.Status || false" switch-on-text="Complete" switch-off-text="Incomplete"></div></div></div></div><div id="notesForHomwork" class="col-xs-12"><notes-panel notes="Homework.Notes" show-save-btn="false" panel-type="\'primary\'" panel-title="\'Homework Notes\'" default-types="[\'General\',\'Private\']"></notes-panel></div></div><div class="col-sm-6"><div id="addedDogArea" class="col-xs-12"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Added Dog(s) to Homework</h3></div><div class="panel-body"><div class="input-group col-xs-12"><h4 ng-show="addedDogUI.length>0">Dog List</h4><h4 ng-show="addedDogUI.length==0" ng-class="{\'text-danger\': addedDogUI.length==0 && submitted}">No Dogs Added</h4><p ng-if="addedDogUI.length==0 && submitted" class="text-danger">Please add a dog.</p><div name="dragDropDogArea" id="dogSelectionBox" class="col-xs-12 col-lg-12"><div ng-repeat="dogIn in addedDogUI | orderBy:\'Name\' track by $index" class=""><dog-card no-click="true" dog="dogIn" btn-click="removeDog(dogIn)" btn-text="\'Remove\'"></dog-card></div></div></div></div></div></div><div id="dogListPanel" class="col-xs-12"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Add Dog(s) to Booking</h3></div><div class="panel-body"><div class="form-group"><div class="input-group"><input type="text" class="form-control" placeholder="Search For Dog" ng-model="dogSearch"><div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div></div></div><div ng-repeat="dog in dogs | orderBy:\'Name\' | filter:{Deceased: showDeceased} | filter: {Name: dogSearch} | slice: pagination.limit:((pagination.currentPage-1)*pagination.limit)" class=""><dog-card no-click="true" dog="dog" btn-click="addDog(dog)" btn-text="\'Add\'"></dog-card></div><div class="row"><div class="col-xs-12"><pagination total-items="(dogs | filter: {Deceased: showDeceased} | filter: {Name: dogSearch}).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div></div></div></div></div></form></div>'),e.put("app/homework/homeworkManagement.html",'<h1>Homework Management</h1><div class="col-xs-12 col-sm-3"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Sort By:</h3></div><div><ul class="nav nav-pills nav-stacked"><li role="presentation" ng-class="{active: sortBy==\'Dog.Name\'}"><a ng-click="changeSortBy(\'Dog.Name\')">Dogs</a></li><li role="presentation" ng-class="{active: sortBy==\'Title\'}"><a ng-click="changeSortBy(\'Title\')">Title</a></li></ul><div class="form-group"><div class="input-group"><input ng-model="searchDog" type="text" class="form-control" placeholder="Dog name..."><div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div></div></div><a class="btn btn-primary btn-block" href="#/homework">Create New</a></div></div></div><div class="col-xs-12 col-sm-9"><div class="row"><div class="col-xs-12"><pagination total-items="(homeworkByTitle| filter:searchDog).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div><div ng-repeat="homework in homeworkByTitle|orderBy: sortBy |filter:{$:searchDog} | slice: pagination.limit:((pagination.currentPage-1)*pagination.limit)"><div class="panel panel-primary"><div class="btn-group pull-right"><button class="btn btn-danger pull-right" ng-click="deleteHomework(homework.id)"><span class="glyphicon glyphicon-remove"></span>&nbsp;&nbsp;Delete</button> <button class="btn btn-primary pull-right" ng-click="edit(homework.id)"><span class="glyphicon glyphicon-edit"></span>&nbsp;&nbsp;Edit</button> <button class="btn btn-primary" ng-click="duplicateHomework(homeworkId)"><span class="glyphicon glyphicon-copy"></span>&nbsp;&nbsp;Duplicate</button></div><div class="panel-heading"><h6 class="panel-title">{{homework.Title}}</h6></div><div class="panel-body"><div class="col-xs-12 col-sm-6 col-md-4"><dog-card dog="dog[dogsInHomework.id]" ng-repeat="dogsInHomework in homework.Dogs"></dog-card></div><div class="col-xs-12 col-sm-6 col-md-8"><h5>Due Date: {{homework.EndDate|date:\'fullDate\'}}</h5><label class="control-label">Status:</label><div class="pull-right"><input bs-switch="" class="pull-right" type="checkbox" ng-model="LibraryList[homework.id].Status" switch-on-text="Complete" switch-off-text="Incomplete" ng-change="updateHomework(homework.id)"></div><h5>Description:</h5><p>{{homework.Description|truncateFilter:250}}</p></div></div></div></div><div class="row"><div class="col-xs-12"><pagination total-items="(homeworkByTitle| filter:searchDog).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div></div>'),e.put("app/views/businessinfo.html",'<div class="row"><div class="col-xs-12"><h1>{{Title}}</h1><hr></div></div><div class="row"><div class="col-lg-8 col-xs-12 col-md-8 col-sm-8"><div class="panel panel-info"><header class="panel-heading"><span class="panel-title">Expenditures</span> <a class="btn btn-xs btn-link pull-right" tooltip="Add" ng-click="addExpense()" ng-show="!addingExpense"><span class="fa fa-plus fa-2x" aria-hidden="true"></span></a> <a class="btn btn-xs btn-link pull-right" tooltip="Cancel" ng-click="cancelExpense()" ng-show="addingExpense"><span class="fa fa-times fa-2x" aria-hidden="true"></span></a></header><div class="panel-body"><div ng-show="!addingExpense"><table class="table table-striped"><tr><th>Expense Name</th><th>Expense Type</th><th>Expense Description</th><th>Expense Cost</th><th>Expenditure Date</th></tr><tr ng-repeat="expense in ExpenseInfo"><td>{{expense.Name}}</td><td>{{expense.Type}}</td><td>{{expense.Description}}</td><td>${{expense.Cost}}</td><td>{{expense.Date | amCalendar}}</td></tr></table></div><div ng-show="addingExpense"><form name="addExpenseForm" ng-submit="saveExpense()" novalidate=""><div class="form-group" ng-class="{\'has-error\':addExpenseForm.name.$touched && addExpenseForm.name.$error.required}"><label for="name">Expense Name</label> <input type="text" class="form-control" ng-model="newExpense.Name" name="name" required=""><div ng-show="addExpenseForm.name.$touched && addExpenseForm.name.$error.required"><span class="text-danger">Expense Name is required</span></div></div><div class="form-group" ng-class="{\'has-error\':addExpenseForm.type.$touched && addExpenseForm.type.$error.required}"><label for="type">Expense Type</label> <input type="text" class="form-control" ng-model="newExpense.Type" name="type" required=""><div ng-show="addExpenseForm.type.$touched && addExpenseForm.type.$error.required"><span class="text-danger">Expense Type is required</span></div></div><div class="form-group" ng-class="{\'has-error\':addExpenseForm.description.$touched && addExpenseForm.description.$error.required}"><label for="description">Expense Description</label> <input type="text" class="form-control" ng-model="newExpense.Description" name="description" required=""><div ng-show="addExpenseForm.description.$touched && addExpenseForm.description.$error.required"><span class="text-danger">Expense Description is required</span></div></div><div class="form-group" ng-class="{\'has-error\':addExpenseForm.cost.$touched && (addExpenseForm.cost.$error.required || addExpenseForm.cost.$error.pattern)}"><label for="cost">Expense Cost</label> <input type="text" class="form-control" ng-model="newExpense.Cost" name="cost" pattern="^(\\d*\\.{0,1}\\d{0,2})" required=""><div ng-show="addExpenseForm.cost.$touched && addExpenseForm.cost.$error.required"><span class="text-danger">Expense Cost is required</span></div><div ng-show="addExpenseForm.cost.$touched && addExpenseForm.cost.$error.pattern"><span class="text-danger">Expense Cost can only be numeric and have two decimals</span></div></div><div class="form-group" ng-class="{\'has-error\':addExpenseForm.Date.$touched && addExpenseForm.Date.$error.required}"><label for="date">Expenditure Date</label> <input type="date" class="form-control" ng-model="newExpense.Date" name="date" required=""><div ng-show="addExpenseForm.date.$touched && addExpenseForm.date.$error.required"><span class="text-danger">Expenditure Date is required</span></div></div><div class="pull-right"><a class="btn btn-link" ng-click="cancelExpense()">Cancel</a> <input type="submit" class="btn btn-primary" ng-disabled="addExpenseForm.$invalid" value="Save"></div></form></div></div></div></div><div class="col-lg-4 col-xs-12 col-md-4 col-sm-4 pull-right"><div class="panel panel-default"><header class="panel-heading"><span class="panel-title">Information</span> <a class="btn btn-xs btn-link pull-right" ng-click="editInfo()" ng-show="!editingInfo" tooltip="Edit Info"><span class="fa fa-edit fa-2x" aria-hidden="true"></span></a> <a href="" class="btn btn-xs btn-link pull-right" ng-click="cancelEdit()" ng-show="editingInfo" tooltip="Cancel"><span class="fa fa-times fa-2x" aria-hidden="true"></span></a></header><div class="panel-body"><div ng-show="!editingInfo"><p>Business Name: {{BusinessInfo.BusinessName}}</p><p>Address: &nbsp;{{BusinessInfo.Address.Street}}<br>&emsp;&emsp;&emsp;&emsp;{{BusinessInfo.Address.City}} {{BusinessInfo.Address.Province}}, {{BusinessInfo.Address.PostalCode}}</p><p>Phone: {{BusinessInfo.Phone}}</p><p>Email: {{BusinessInfo.Email}}</p></div><div ng-show="editingInfo"><form name="businessInfoForm" ng-submit="saveInfo()" novalidate=""><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessName.$touched && businessInfoForm.businessName.$error.required}"><label for="businessName">Business Name</label> <input type="text" class="form-control" ng-model="editedInfo.BusinessName" name="businessName" required=""><div ng-show="businessInfoForm.businessName.$dirty && businessInfoForm.businessName.$error.required"><span class="text-danger">Business Name is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessStreet.$touched && businessInfoForm.businessStreet.$error.required}"><label for="businessStreet">Street</label> <input type="text" class="form-control" ng-model="editedInfo.Address.Street" name="businessStreet" required=""><div ng-show="businessInfoForm.businessStreet.$dirty && businessInfoForm.businessStreet.$error.required"><span class="text-danger">Street Address is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessStreet.$touched && businessInfoForm.businessStreet.$error.required}"><label for="businessCity">City</label> <input type="text" class="form-control" ng-model="editedInfo.Address.City" name="businessCity" required=""><div ng-show="businessInfoForm.businessCity.$dirty && businessInfoForm.businessCity.$error.required"><span class="text-danger">City is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessProvince.$touched && businessInfoForm.businessProvince.$error.required}"><label for="businessProvince">Province</label> <input type="text" class="form-control" ng-model="editedInfo.Address.Province" name="businessProvince" required=""><div ng-show="businessInfoForm.businessProvince.$dirty && businessInfoForm.businessProvince.$error.required"><span class="text-danger">Province is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessPostalCode.$touched && businessInfoForm.businessPostalCode.$error.required}"><label for="businessPostalCode">Postal Code</label> <input type="text" class="form-control" ng-model="editedInfo.Address.PostalCode" name="businessPostalCode" required=""><div ng-show="businessInfoForm.businessPostalCode.$dirty && businessInfoForm.businessPostalCode.$error.required"><span class="text-danger">Postal Code is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessPhone.$touched && businessInfoForm.businessPhone.$error.required}"><label for="businessPhone">Phone</label> <input type="text" class="form-control" ng-model="editedInfo.Phone" name="businessPhone" required=""><div ng-show="businessInfoForm.businessPhone.$dirty && businessInfoForm.businessPhone.$error.required"><span class="text-danger">Phone Number is Required</span></div></div><div class="form-group" ng-class="{\'has-error\':businessInfoForm.businessEmail.$touched && businessInfoForm.businessEmail.$error.required}"><label for="businessName">Email</label> <input type="email" class="form-control" ng-model="editedInfo.Email" name="businessEmail" required=""><div ng-show="businessInfoForm.businessEmail.$dirty && businessInfoForm.businessEmail.$error.required"><span class="text-danger">Business Email is Required</span></div></div><div class="pull-right"><a class="btn btn-link" ng-click="cancelEdit()">Cancel</a> <input type="submit" class="btn btn-primary" ng-disabled="businessInfoForm.$invalid" value="Save"></div></form></div></div></div></div></div>'),e.put("app/views/invoice.html",'<div class="row"><div class="leftSection col-xs-7"><h1>{{BusinessInfo.BusinessName}}</h1><h4>{{BusinessInfo.Address.Street}}</h4><h4>{{BusinessInfo.Address.City}}, {{BusinessInfo.Address.Country}}, {{BusinessInfo.Address.PostalCode}}</h4><h4>Phone: {{BusinessInfo.Phone}}</h4><h4>Email: {{BusinessInfo.Email}}</h4><h3>Bill To:</h3><h4>{{ownerData.Name}}</h4><h4>{{ownerData.Address.City}}, {{ownerData.Address.Country}}, {{ownerData.Address.PostalCode}}</h4><h4>{{ownerData.Phone}}</h4><h4>{{ownerData.Email}}</h4></div><div class="col-xs-5 text-right"><h1>INVOICE</h1><h4 class="visible-print-block">Date Issued: {{today|date:\'fullDate\'}}</h4><h4 class="hidden-print">Date Issued: <input type="date" class="form-control" ng-model="today"></h4><h4 class="visible-print-block">Date Due: {{dateDue|date:\'fullDate\'}}</h4><h4 class="hidden-print">Date Due: <input type="date" class="form-control" ng-model="dateDue"></h4><h4>Invoice Id: {{bookingData.id}}</h4></div></div><div class="row col-xs-12"><h3>Description <button class="btn btn-primary pull-right hidden-print" ng-click="addCharge()"><span class="glyphicon glyphicon-plus"></span></button></h3><form><div class="col-xs-12"><table class="table"><tr><th class="col-xs-7">Item/Service</th><th class="col-xs-2">Quantity</th><th>Cost Per Unit</th><th class="hidden-print">Delete</th></tr><tr class="form-group" ng-repeat="charge in invoiceData.Charges"><td><div ng-show="(invoiceData.Charges[$index].JobType==null)"><input type="text" class="col-xs-12 hidden-print" ng-model="invoiceData.Charges[$index].ServiceCustom"> <span class="visible-print-block text-left">{{invoiceData.Charges[$index].ServiceCustom}}</span></div><div ng-hide="(invoiceData.Charges[$index].JobType==null)" class="col-xs-12 text-left"><span class="hidden-print text-left">{{bookingData.Jobtype.Name}}</span> <span class="visible-print-block text-left">{{bookingData.Jobtype.Name}}</span></div></td><td><input class="col-xs-12 hidden-print" type="number" ng-model="invoiceData.Charges[$index].Quantity"> <span class="visible-print-inline-block text-center">{{invoiceData.Charges[$index].Quantity}}</span></td><td><div ng-show="(invoiceData.Charges[$index].JobType==null)"><input class="col-xs-12 hidden-print" type="number" ng-model="invoiceData.Charges[$index].Value"> <span class="visible-print-block text-center">{{invoiceData.Charges[$index].Value}}</span></div><div ng-hide="(invoiceData.Charges[$index].JobType==null)" class="col-xs-12"><span class="visible-print-block text-center">{{bookingData.Jobtype.Value}}</span> <span class="hidden-print text-center">{{bookingData.Jobtype.Value}}</span></div></td><td class="hidden-print"><button class="btn btn-danger" ng-click="removeCharge($index)"><span class="glyphicon glyphicon-minus"></span></button></td></tr><tr><th></th><th>SubTotal</th><th>${{subtotal()|number:2}}</th><th></th></tr><tr><th></th><th>Taxes(HST {{taxRate}}&#37;)</th><th>${{taxes()|number:2}}</th><th></th></tr><tr><th></th><th>Total</th><th>${{subtotal()+taxes()|number:2}}</th><th></th></tr></table></div></form></div><div class="row col-sm-12 hidden-print"><notes-panel notes="invoiceData.Notes" show-save-btn="false" panel-type="\'primary\'" panel-title="\'Invoice Notes\'" default-types="[\'General\']"></notes-panel></div><div class="row col-sm-12 visible-print-block"><h2>Notes:</h2><div ng-repeat="note in invoiceData.Notes"><h4>{{note.Title}}</h4><pre>{{note.Content}}</pre></div></div><button class="hidden-print btn btn-primary pull-right" ng-click="printInvoice()">Print</button> <button class="hidden-print btn btn-primary pull-right" ng-click="saveInvoice()">Save</button>'),e.put("app/views/quote.html",'<div class="row"><div class="col-sm-1 col-md-1 col-lg-1"></div><div class="col-xs-12 col-sm-4 col-md-4 col-lg-4"><h3>{{BusinessInfo.BusinessName}}</h3><span>{{BusinessInfo.Address.Street}}</span><br><span>{{BusinessInfo.Address.City}}, {{BusinessInfo.Address.Province}}, {{BusinessInfo.Address.PostalCode}}</span><br><br><span><strong>Phone:</strong>{{BusinessInfo.Phone}}</span><br><span><strong>Email:</strong>{{BusinessInfo.Email}}</span></div><div class="col-sm-4 col-md-4 col-lg-4"></div><div class="col-xs-12 col-sm-2 col-md-2 col-lg-2 pull-right"><br><span><strong>Date: {{Services.Date | amDateFormat: \'MM/DD/YYYY\'}}</strong></span><br></div><div class="col-sm-1 col-md-1 col-lg-1"></div></div><br><br><br><div class="row"><div class="col-sm-1 col-md-1 col-lg-1"></div><div><form name="QuoteTitleForm" novalidate=""><div class="form-group col-xs-3" ng-class="{\'has-error\':QuoteTitleForm.QuoteTitle.$pristine && QuoteTitleForm.QuoteTitle.$error.required}"><label for="QuoteTitle"><strong>Quote Title</strong></label> <input type="text" class="form-control" ng-model="Services.Title" name="QuoteTitle" required=""><div ng-show="QuoteTitleForm.QuoteTitle.$pristine && QuoteTitleForm.QuoteTitle.$error.required"><span class="text-danger">Title is required to save</span></div></div><div class="col-sm-1 col-md-1 col-lg-1 pull-right"></div><div class="pull-right"><input type="button" class="btn btn-primary hidden-print" value="Save" ng-click="saveQuote()" ng-disabled="QuoteTitleForm.$invalid || addingService"> <button class="btn btn-primary hidden-print" ng-click="print()">Print</button></div></form></div></div><div class="row"><div class="col-sm-1 col-md-1 col-lg-1"></div><div class="col-sm-10 col-md-10 col-lg-10"><div class="panel panel-primary"><div class="panel-heading"><span class="panel-title">New Quote</span></div><div class="panel-body"><form name="AddServiceForm" ng-submit="saveService" novalidate=""><div class="form-group" ng-class="{\'has-error\':AddServiceForm.name.$touched && AddServiceForm.name.$error.required}"><div class="col-xs-12 form-group"><div class="col-sm-2"><label for="serviceName">Service</label><select class="form-control" ng-options="serviceItem.Name for serviceItem in ServiceList" ng-model="Services.Service"></select><div ng-show="AddServiceForm.serviceName.$touched && AddServiceForm.serviceName.$error.required"><span class="text-danger">Service is required</span></div></div></div><div class="col-xs-12 form-group"><div class="col-sm-2"><label for="serviceQuantity">Number of Dogs</label> <input class="form-control" type="number" name="serviceQuantity" ng-model="Services.Quantity" required=""><div ng-show="AddServiceForm.serviceQuantity.$touched && AddServiceForm.serviceQuantity.$error.required"><span class="text-danger">Service Quantity is required</span></div></div></div><div class="col-xs-12 form-group"><div class="col-sm-3"><label for="serviceStart">Start Date</label> <input type="date" class="form-control" ng-model="Services.StartDate" name="serviceStart" required=""><div ng-show="AddServiceForm.serviceStart.$touched && AddServiceForm.serviceStart.$error.required"><span class="text-danger">Start Date is required</span></div></div><div class="col-sm-3"><label for="serviceEnd">End Date</label> <input type="date" class="form-control" ng-model="Services.EndDate" name="serviceEnd" required=""><div ng-show="AddServiceForm.serviceEnd.$touched && AddServiceForm.serviceEnd.$error.required"><span class="text-danger">End Date is required</span></div></div></div><div class="col-xs-12 form-group"><div class="col-sm-2"><span name="totalDays">Total Days: {{((Services.EndDate | amDifference : Services.StartDate : \'days\') + 1) }}</span></div></div><div class="col-xs-12 form-group"><div class="col-sm-2"><span ng-model="Services.Price" name="servicePrice">Price: ${{Services.Price = ((Services.Service.Value * Services.Quantity) * ((Services.EndDate | amDifference : Services.StartDate : \'days\' ) + 1)) | number : 2}}</span></div></div></div></form></div></div></div><div class="col-sm-1 col-md-1 col-lg-1"></div></div><div class="visable-print-block"><p>Please note that the Quote is only valid for the dog(s) mentioned,services proviced and for 30 days from the date the Quote was issued.</p></div>'),
e.put("app/Booking/New/job-new.html",'<div class="row"><div class="col-xs-12"><button ng-if="isUpdated" type="button" ng-click="ConfirmDelete()" class="pull-right btn btn-lg btn-danger">Remove Booking</button><h1>{{pageType}}Booking</h1><hr></div></div><div class="row"><div class="col-sm-6"><form id="newBookingForm" name="newBookingForm" ng-submit="createBooking()" novalidate=""><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Booking Name and Dogs:</h3></div><div class="panel-body"><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12" ng-class="{\'has-error\':newBookingForm.bookingName.$invalid && submitted}"><label for="bookingName" class="control-label">Booking Name:</label> <input id="bookingName" name="bookingName" class="form-control" type="text" ng-model="booking.Name" required=""></div><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12" ng-class="{\'has-error\':newBookingForm.bookingType.$invalid && submitted}"><label for="bookingType" class="control-label">Booking Type:</label><select id="bookingType" name="bookingType" ng-model="selectedJobType" ng-options="jobType as jobType.Name for jobType in jobTypes track by jobType.Name" class="form-control" selected="booking.Jobtype" required=""></select><p ng-if="newBookingForm.bookingType.$invalid && submitted" class="text-danger">Please pick a Booking Type.</p></div><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><h4 ng-show="addedDogUI.length>0">Dog List</h4><h4 ng-show="addedDogUI.length==0" ng-class="{\'text-danger\': booking.Dogs.length==0 && submitted}">No Dogs Added</h4><p ng-if="booking.Dogs.length==0 && submitted" class="text-danger">Please add a dog.</p><div name="dragDropDogArea" id="dogSelectionBox" class="col-xs-12 col-lg-12"><div ng-repeat="dogIn in addedDogUI | orderBy:\'Name\' track by $index"><dog-card no-click="true" dog="dogIn" btn-click="removeDog(dogIn)" btn-text="\'Remove\'"></dog-card></div></div></div></div></div><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Location:</h3></div><div class="panel-body"><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><label for="jobAddress" class="control-label">Street Address:</label> <input id="jobAddress" name="jobAddress" class="form-control" placeholder="41 Campbell Ave." type="text" ng-model="booking.Location.Street"></div><div class="form-inline"><div class="form-group"><div class="input-group col-lg-8 col-mid-8 col-sm-8 col-xs-12"><label for="bookingCity" class="control-label">City:</label> <input id="bookingCity" name="bookingProvince" class="form-control" type="text" ng-model="booking.Location.City" placeholder="Barrie"></div><div class="input-group col-lg-3 col-mid-3 col-sm-3 col-xs-3"><label for="bookingState" class="control-label">Province/State:</label> <input id="bookingState" name="bookingState" class="form-control" type="text" ng-model="booking.Location.Province" placeholder="ON"></div><div class="input-group col-lg-8 col-mid-8 col-sm-8 col-xs-12"><label for="bookingCountry" class="control-label">Country:</label> <input id="bookingCountry" name="bookingCountry" class="form-control" type="text" ng-model="booking.Location.Country" placeholder="CA"></div><div class="input-group input-group col-lg-3 col-mid-3 col-sm-3 col-xs-3"><label for="bookingPostalCode" class="control-label">Postal Code:</label> <input id="bookingPostalCode" name="bookingPostalCode" class="form-control" type="text" ng-model="booking.Location.PostalCode" placeholder="L4N 2T2"></div></div></div></div></div><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Time:</h3></div><div class="panel-body"><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><label for="jobStart" class="control-label">Booking Start Date:</label><br><div class="form-group"><input type="date" class="form-control" ng-model="booking.Calendars.StartDate"><timepicker hour-step="hourStep" minute-step="minuteStep" ng-model="booking.Calendars.StartDate" show-meridian="ismeridian"></timepicker></div></div><div class="input-group col-lg-12 col-mid-12 col-sm-12 col-xs-12"><label for="jobEnd" class="control-label">Booking End Date:</label><br><div class="form-group"><input type="date" ng-model="booking.Calendars.EndDate" class="form-control"><timepicker hour-step="hourStep" minute-step="minuteStep" ng-model="booking.Calendars.EndDate" show-meridian="ismeridian"></timepicker></div></div></div></div><div class="panel panel-primary"><div class="panel-heading">Booking Behaviour Flag</div><div class="panel-body"><div class="form-group"><label class="behave-flag-label"><input type="radio" class="behave-flag-radio" ng-model="booking.Calendars.Colour" ng-checked="booking.Calendars.Colour === null" value="null"> <span class="behave-flag"></span></label> <label class="behave-flag-label" ng-repeat="colour in colours"><input type="radio" class="behave-flag-radio" ng-model="booking.Calendars.Colour" value="{{ colour.Colour }}"> <span class="behave-flag" style="background-color: {{ colour.Colour }}"></span></label></div></div></div><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Fees:</h3></div><div class="panel-body"><p nf-if="booking.Costs.length==0">No Fees Added</p><div ng-repeat="fees in booking.Costs" class="col-lg-12 col-sm-12"><p class="col-lg-6 col-md-6 col-sm-6">{{fees.Description}}</p><p class="col-lg-6 col-md-6 col-sm-6">{{fees.Cost}}</p></div><div class="input-group"><label for="bookingFee">Booking Fees:</label> <input id="bookingFee" type="text" ng-model="feeAmount" class="form-control" pattern="^\\d*(\\.\\d{0,2}$)?"></div><div class="input-group"><label for="bookingFeeDescription">Booking Fees Description:</label> <textarea id="bookingFeeDescription" ng-model="feeDescription" class="form-control" placeholder="description"></textarea></div><div><button type="button" class="btn btn-lg pull-right btn-primary" ng-click="addFee()">Add Fee</button></div></div></div></form></div><div class="col-sm-6"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Add Dog(s) to Booking</h3></div><div class="panel-body"><div class="input-group"><input type="text" class="form-control" placeholder="Search For Dog" ng-model="dogSearch"><div class="input-group-addon"><span class="fa fa-search" aria-hidden="true"></span></div></div><div ng-repeat="dog in dogs | orderBy:\'Name\' | filter:{Deceased: false} | filter : dogSearch | slice: pagination.limit:((pagination.currentPage-1)*pagination.limit)"><dog-card no-click="true" dog="dog" btn-click="bookDog(dog)" btn-text="\'Add\'"></dog-card></div><div class="row"><div class="col-xs-12"><pagination total-items="(dogs | filter : dogSearch).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div></div></div><div ng-if="fullAddress != null" class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Map:</h3></div><div class="panel-body"><iframe class="col-lg-12 col-mid-12 col-sm-12 col-xs-12" width="600" height="450" frameborder="0" style="border:0" ng-src="{{fullAddress}}" allowfullscreen=""></iframe></div></div><notes-panel notes="booking.Notes" show-save-btn="false" panel-type="\'primary\'" panel-title="\'Booking Notes\'" default-types="[\'General\']"></notes-panel></div><div class="col-xs-12"><button type="submit" ng-click="createBooking()" class="pull-right btn btn-lg btn-primary">{{pageType}} Booking</button></div></div>'),e.put("app/Booking/modal/confirm-delete.html",'<div class="modal-header"><h3 class="modal-title">Are you sure you want to delete this booking?</h3></div><div class="modal-body"><p>Deleting this booking will also delete the attached invoice, and this action cannot be undone, are you sure you wish to continue?</p></div><div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">Delete Booking</button> <button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>'),e.put("app/Booking/List/job-list.html",'<div class="" id="JobListPanel"><div><form action="jobFilterCtr" method="post"><div class="input-group"><input type="text" class="form-control" placeholder="Job name..."><div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div></div></form></div><h1>Job List</h1><div ng-repeat="job in JobList"><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">{{job.Name}} - {{job.Jobtype.Name}}</h3></div><div class="panel-body"><div class="col-xs-3"><h4>Start Date: {{job.Calendars.StartDate | amCalendar}}</h4><h4>End Date: {{job.Calendars.EndDate | amCalendar}}</h4><div class="panel panel-primary" ng-repeat="note in job.Notes"><div class="panel-heading"><h3 class="panel-title">{{note.Title}}</h3></div><div class="panel-body"><p>{{note.Content}}</p></div></div></div><dog-card dog="dog" ng-repeat="dog in job.Dogs | filter:searchDog | filter:searchOwner | orderBy:\'Name\'"></dog-card><div class="col-xs-12"><a class="btn btn-primary margin-10 pull-right" href="#/jobs/{{job.id}}">View Booking</a></div></div></div></div><div ng-if="JobList.length < 1"><h2 ng-if="!isLoading">No bookings are in today</h2><i ng-if="isLoading" class="fa fa-spin fa spinner fa-4x"></i></div></div>'),e.put("app/Dog/directives/dog-card.html",'<div class="panel panel-default dog-card clearfix" ng-click="gotoDogPage()"><div class="panel-heading"><div class="text-center"><strong>{{dog.Name | characters:25 }}</strong></div></div><div class="panel-body"><div class="img-container"><img class="img img-responsive" ng-src="{{dog.photoURL ? dogURL + dog.photoURL : \'images/no-dog-image.jpg\'}}" alt="{{ dog.Name }}"></div><div class="info-area"><div><span class="behave-flag behave-thin" style="background-color: {{ dog.BehaviourFlag.Colour || \'#FFFFFF\' }}"></span></div><div class="text-center">{{ dog.Owner.Name }}</div><div class="text-center">{{ dog.Owner.Phone }}</div><div class="text-center">{{ dog.Owner.Email }}</div><div class="text-center"><strong>{{ dog.Deceased ? "Deceased" : "&nbsp;" }}</strong></div></div><div ng-show="btnText"><a class="btn btn-{{ btnType || \'default\' }} btn-block action-btn" ng-click="callButtonCallback($event)">{{ btnText }}</a></div></div></div>'),e.put("app/Dog/directives/dog-info-panel.html",'<div class="panel panel-default"><div class="panel-heading">Information <a href="" class="btn btn-xs btn-link pull-right" ng-click="editInfoBtn()" ng-hide="editingInfo" tooltip="Edit Dog"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <a href="" class="btn btn-xs btn-link pull-right" ng-click="cancelInfoBtn()" ng-show="editingInfo" tooltip="Cancel"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></div><div class="panel-body"><div ng-hide="editingInfo"><div class="row"><div class="col-xs-12"><div class="form-group"><img class="img img-responsive" dog-image="dog" alt="{{ dog.Name }}"></div><div class="form-group"><div class="btn btn-default btn-xs btn-block" ngf-select="" ngf-change="upload($files)">Select New Image</div></div></div></div><div class="row"><div class="col-xs-5"><strong>Breed</strong></div><div class="col-xs-7">{{dog.Breed}}</div></div><div class="row"><div class="col-xs-5"><strong>Birthdate</strong></div><div class="col-xs-7">{{(dog.Birthdate | date : \'longDate\') || \'Unknown\'}}</div></div><div class="row"><div class="col-xs-5"><strong>Age</strong></div><div class="col-xs-7">{{dog.Age || \'Unknown\'}}</div></div><div class="row"><div class="col-xs-5"><strong>Gender</strong></div><div class="col-xs-7">{{dog.Gender}}</div></div><div class="row"><div class="col-xs-5"><strong>{{ labels.SpayedNeutered }}</strong></div><div class="col-xs-7">{{ dog.SpayedNeutered }}</div></div><div class="row"><div class="col-xs-5"><strong>On Titers</strong></div><div class="col-xs-7">{{ dog.OnTiters }}</div></div><div class="row"><div class="col-xs-12"><span class="behave-flag" style="background-color: {{ dog.BehaviourFlag.Colour || \'#FFFFFF\'}}"></span></div></div></div><div ng-show="editingInfo"><dog-edit-form dog="editedDog" form-ctrl="infoForm"></dog-edit-form><div class="pull-right"><a href="" class="btn btn-link" ng-click="cancelInfoBtn()">Cancel</a> <a href="" class="btn btn-primary" ng-click="saveInfoBtn()">Save</a></div></div></div></div>'),e.put("app/Dog/directives/edit-form.html",'<form name="form" novalidate=""><fieldset><legend>Info</legend><div class="form-group" ng-class="{\'has-error\': form.name.$invalid}"><label for="name">Name</label> <input type="text" class="form-control" name="name" ng-model="dog.Name" required=""><div ng-show="form.$submitted || form.$dirty"><div ng-show="form.name.$error.required">Name is required</div></div></div><div class="form-group" ng-class="{\'has-error\': form.breed.$invalid}"><label for="breed">Breed</label> <input type="text" class="form-control" name="breed" ng-model="dog.Breed" required=""><div ng-show="form.$submitted || form.$dirty"><div ng-show="form.breed.$error.required">Breed is required</div></div></div><div class="form-group" ng-class="{\'has-error\': form.birthdate.$invalid}"><label for="birthdate">Birthdate</label> <small class="pull-right">(dd/mm/yyyy)</small><div class="form-group"><input type="date" class="form-control" ng-model="dog.Birthdate"></div></div><div class="form-group" ng-class="{\'has-error\': form.gender.$invalid}"><label for="gender">Gender</label><select class="form-control" name="gender" ng-model="dog.Gender"><option value="Unknown">Unknown</option><option value="Male">Male</option><option value="Female">Female</option></select></div><div class="form-group" ng-class="{\'has-error\': form.spayedNeutered.$invalid}"><label for="SpayedNeutered">Spayed/Neutered</label><select class="form-control" name="spayedNeutered" ng-model="dog.SpayedNeutered"><option value="Unknown">Unknown</option><option value="Yes">Yes</option><option value="No">No</option></select></div><div class="form-group" ng-class="{\'has-error\': form.onTiters.$invalid}"><label for="onTiters">On Titers</label><select class="form-control" name="onTiters" ng-model="dog.OnTiters"><option value="Unknown">Unknown</option><option value="Yes">Yes</option><option value="No">No</option></select></div><div class="form-group" ng-class="{\'has-error\': form.deceased.$invalid}"><label><input type="checkbox" name="deceased" ng-model="dog.Deceased"> Deceased</label></div><div class="form-group"><fieldset><legend>Behavour Flag</legend><label class="behave-flag-label"><input type="radio" class="behave-flag-radio" ng-model="dog.BehaviourFlag" ng-checked="dog.BehaviourFlag === null" value="null"> <span class="behave-flag"></span></label> <label class="behave-flag-label" ng-repeat="flag in behaviourFlags"><input type="radio" class="behave-flag-radio" ng-model="dog.BehaviourFlag" value="{{ flag.id }}"> <span class="behave-flag" style="background-color: {{ flag.Colour }}"></span></label></fieldset></div></fieldset></form>'),e.put("app/Dog/dog-list/list.html",'<div class="row"><div class="col-xs-12"><h1>Dogs</h1><hr></div></div><div class="row"><div class="col-xs-12 col-sm-3 col-md-3 clearfix"><ul class="nav nav-pills nav-stacked"><li role="presentation" class="active"><a href="#/dogs">Dogs</a></li><li role="presentation"><a href="#/people">People</a></li></ul><hr><a href="#/dog/new" class="btn btn-primary btn-block" ng-click="addBtnClick()">Add Dog</a><hr><form><label>Filter Dogs:</label><div class="form-group"><div class="input-group"><input ng-model="searchDog" type="text" class="form-control" placeholder="Dog name..."><div class="input-group-addon"><span class="fa fa-search" aria-hidden="true"></span></div></div></div><div class="form-group"><div class="input-group"><input ng-model="searchOwner" type="text" class="form-control" placeholder="Owner name..."><div class="input-group-addon"><span class="fa fa-user" aria-hidden="true"></span></div></div></div><label>Flags:</label><div class="checkbox"><label><input type="checkbox" ng-model="strict1"> Requires Shots</label></div><div class="checkbox"><label><input type="checkbox" ng-model="strict2"> Fees Outstanding</label></div><div class="checkbox"><label><input type="checkbox" ng-model="showDeceased"> Show Deceased</label></div></form></div><div class="col-xs-12 col-sm-9 col-md-9"><div ng-repeat="dog in dogs | filter:{Deceased: showDeceased} | filter:{Name:searchDog} | filter:{Owner:{Name :searchOwner}} | orderBy:\'Name\' | slice: pagination.limit:((pagination.currentPage-1)*pagination.limit)"><dog-card class="col-xs-4" dog="dog"></dog-card><div ng-if="($index + 1) % 3 === 0" class="clearfix col-xs-12"></div></div><div class="row"><div class="col-xs-12"><pagination total-items="(dogs | filter:{Deceased: showDeceased} | filter:searchDog | filter:{Owner:{Name :searchOwner}}).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div></div></div>'),e.put("app/Dog/dog-new/new.html",'<div class="row"><div class="col-xs-12"><h1>Add New Dog</h1><hr></div></div><div class="row"><div class="col-xs-12 col-sm-4"><div class="panel panel-default"><div class="panel-heading">Information</div><div class="panel-body"><dog-edit-form dog="dog" form-ctrl="dogEditForm"></dog-edit-form></div></div></div><div class="col-xs-12 col-sm-8"><div class="row"><div class="col-xs-12 col-sm-6 col-md-4"><person-panel person="dog.Owner" panel-title="Owner*" panel-type="{{(dogEditForm.$submitted && !dog.Owner) ? \'danger\' : \'default\'}}" unlinkable="false"></person-panel><div ng-show="dogEditForm.$submitted && !dog.Owner">Owner is Required</div></div><div class="col-xs-12 col-sm-6 col-md-4"><person-panel person="dog.Vet" panel-title="Vet" panel-type="default"></person-panel></div><div class="col-xs-12 col-sm-6 col-md-4"><person-panel person="dog.EmergencyContact" panel-title="Emergancy Contact" panel-type="default"></person-panel></div></div></div></div><div class="row"><div class="col-xs-12"><a href="" class="btn btn-primary" ng-click="saveBtn()">Save</a></div></div>'),e.put("app/Dog/dog-view/view.html",'<div class="row"><div class="col-xs-12"><h1>{{dog.Name}} <small ng-show="dog.Deceased">(Deceased)</small></h1><hr></div></div><div class="row"><div class="col-sm-4 col-lg-3"><div class="row"><div class="col-xs-12"><dog-info-panel dog="dog"></dog-info-panel></div><div class="col-xs-12"><weight-list dog="dog"></weight-list></div></div></div><div class="col-sm-4 col-lg-6"><notes-panel notes="dog.Notes" on-notes-changed="updateNotes()" default-types="[\'Medical\', \'Shots\' ,\'General\', \'Behavioural\',\'Client Care\', \'Friends\', \'Foes\' ]"></notes-panel><div class="panel panel-default" ng-if="dog.Homeworks.length > 0"><div class="panel-heading">Homework <span ng-show="dog.Homeworks.length>0" class="badge pull-right" ng-bind="dog.Homeworks.length"></span></div><div class="panel-body"><div class="panel panel-default" ng-repeat="homework in dog.Homeworks| slice: pagination.limit:((pagination.currentPage-1)*pagination.limit) |orderBy: \'EndDate\':true"><div class="panel-heading"><p ng-bind="homework.Title"></p></div><div class="panel-body homework-description" ng-bind="homework.Description"></div><div class="panel-footer"><a ng-href="#/homework/{{homework.id}}" class="btn btn-sm btn-primary btn-block">View</a></div></div><pagination total-items="(dog.Homeworks).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination><div class="clearfix col-xs-12"></div><a class="pull-right" ng-href="#/library/{{dog.Name}}">View All Homework For {{dog.Name}}</a></div></div></div><div class="col-sm-4 col-lg-3"><div class="row"><div class="col-xs-12"><person-panel person="dog.Owner" person-updated="ownerUpdated" panel-title="Owner" panel-type="info" unlinkable="false"></person-panel></div><div class="col-xs-12"><person-panel person="dog.Vet" person-updated="vetUpdated" panel-title="Vet" panel-type="info"></person-panel></div><div class="col-xs-12"><person-panel person="dog.EmergencyContact" person-updated="emgContactUpdated" panel-title="Emergency Contact" panel-type="danger"></person-panel></div></div></div></div>'),e.put("app/Calendar/modal/event.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><i class="fa fa-times"></i></button><h4 class="modal-title">Add Event - {{day.format() | amCalendar}}<span ng-if="endDay > day">to {{endDay.format() | amCalendar}}</span></h4></div><div class="modal-body"><form class="form" ng-submit="UpdateEvent()"><div class="form-group"><button type="button" class="btn btn-danger btn-block" ng-click="deleteEvent(event.id)"><i class="fa fa-remove"></i></button></div><div class="form-group"><input required="" class="form-control" ng-model="event.note.Title" type="text" placeholder="Event Title"></div><div><div class="form-group col-lg-6"><label>Start Time</label><timepicker ng-model="event.start" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></div><div class="form-group col-lg-6"><label>End Time</label><timepicker ng-model="event.end" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></div></div><div class="form-group"><label>Note</label> <textarea class="form-control" ng-model="event.note.Content"></textarea></div><div class="form-group"><button type="submit" class="btn btn-primary btn-block"><i class="fa fa-save"></i></button></div></form></div>'),e.put("app/Calendar/modal/selection.html",'<div class="modal-header"><button type="button" class="close" ng-click="cancel()" aria-label="Close"><i class="fa fa-times"></i></button><h4 class="modal-title">Add Event - {{day.format() | amCalendar}}<span ng-if="endDay > day">to {{endDay.format() | amCalendar}}</span></h4></div><div class="modal-body"><div ng-show="!addingEvent"><div class="form-group"><button type="button" ng-click="CreateBooking()" class="btn btn-primary btn-block">CreateDog Booking</button></div><div class="form-group"><button type="button" ng-click="addingEvent = !addingEvent" class="btn btn-primary btn-block">New Event</button></div><div class="form-group"><button type="button" ng-click="GotoDay()" class="btn btn-primary btn-block">View Booking List</button></div></div><form ng-show="addingEvent" class="form" ng-submit="AddEvent()"><div class="form-group"><button class="btn btn-primary btn-block" ng-click="addingEvent = !addingEvent"><i class="fa fa-chevron-left"></i></button></div><div class="form-group"><input required="" class="form-control" type="text" placeholder="Event Title" ng-model="title"></div><div><div class="form-group col-lg-6"><label>Start Time</label><timepicker ng-model="startTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></div><div class="form-group col-lg-6"><label>End Time</label><timepicker ng-model="endTime" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker></div></div><div class="form-group"><label>Note</label> <textarea class="form-control" ng-model="note">{{month.note}}</textarea></div><div class="form-group"><button type="submit" class="btn btn-primary btn-block"><i class="fa fa-plus"></i></button></div></form></div>'),e.put("app/Note/Modal/confirm-note-delete.html",'<div class="modal-header"><h3 class="modal-title">Are you sure you want to delete this note?</h3></div><div class="modal-body"><strong>{{ note.Title }}</strong><p>{{ note.Content }}</p></div><div class="modal-footer"><button class="btn btn-danger" ng-click="ok()">Delete Note</button> <button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>'),e.put("app/People/Directives/person-edit-form.html",'<form name="editForm" ng-submit="editFormSubmit()" novalidate=""><div class="form-group" ng-class="{\'has-error\': (editForm.name.$touched || editForm.$submitted) && editForm.name.$invalid}"><label for="name">Name</label> <input type="text" class="form-control" name="name" ng-model="person.Name" required=""><div ng-show="editForm.$submitted || editForm.name.$touched"><div ng-show="editForm.name.$error.required">Name is required</div></div></div><div class="form-group" ng-class="{\'has-error\': (editForm.email.$touched || editForm.$submitted) && editForm.email.$invalid}"><label for="phone">email</label> <input type="email" class="form-control" name="email" ng-model="person.Email"></div><div class="form-group" ng-class="{\'has-error\': (editForm.phone.$touched || editForm.$submitted) && editForm.phone.$invalid}"><label for="phone">Phone</label> <input type="text" class="form-control" name="phone" ng-model="person.Phone"></div><fieldset><legend>Address</legend><div class="form-group" ng-class="{\'has-error\': (editForm.street.$touched || editForm.$submitted) && editForm.street.$invalid}"><label class="control-label" for="street">Address</label> <input type="text" class="form-control" name="street" ng-model="person.Address.Street"></div><div class="form-group" ng-class="{\'has-error\': (editForm.City.$touched || editForm.$submitted) && editForm.City.$invalid}"><label class="control-label" for="City">City</label> <input type="text" class="form-control" name="City" ng-model="person.Address.City"></div><div class="form-group" ng-class="{\'has-error\': (editForm.Province.$touched || editForm.$submitted) && editForm.Province.$invalid}"><label class="control-label" for="Province">Province</label> <input type="text" class="form-control" name="Province" ng-model="person.Address.Province"></div><div class="form-group" ng-class="{\'has-error\': (editForm.Country.$touched || editForm.$submitted) && editForm.Country.$invalid}"><label class="control-label" for="Country">Country</label> <input type="text" class="form-control" name="Country" ng-model="person.Address.Country"></div><div class="form-group" ng-class="{\'has-error\': (editForm.PostalCode.$touched || editForm.$submitted) && editForm.PostalCode.$invalid}"><label class="control-label" for="PostalCode">Postal Code</label> <input type="text" class="form-control" name="PostalCode" ng-model="person.Address.PostalCode"></div></fieldset><input type="submit" class="btn btn-primary btn-block" value="Save"></form>'),e.put("app/People/Directives/person-info.html",'<div class="row" ng-hide="hideName"><div class="col-xs-4"><strong>Name</strong></div><div class="col-xs-8"><a href="#/person/{{ person.id }}">{{person.Name}}</a></div></div><div class="row"><div class="col-xs-4"><strong>Email</strong></div><div class="col-xs-8"><a href="mailto:{{ perosn.Email }}">{{person.Email}}</a></div></div><div class="row"><div class="col-xs-4"><strong>Phone</strong></div><div class="col-xs-8">{{person.Phone}}</div></div><div class="row"><div class="col-xs-4"><strong>Address</strong></div><div class="col-xs-8">{{person.Address.Street}}<br>{{person.Address.City}}<br>{{person.Address.Province}}<br>{{person.Address.Country}}<br>{{person.Address.PostalCode}}</div></div>'),e.put("app/People/Directives/person-panel.html",'<div class="panel panel-{{panelType || \'default\'}}"><div class="panel-heading"><a href="" tooltip="Unlink" tooltip-placement="right" ng-show="editMode && unlinkable && person" ng-click="unlinkPerson()"><i class="fa fa-chain-broken"></i></a> {{panelTitle || \'Person\'}}<div class="pull-right"><div ng-hide="editMode || !person"><a href="" ng-click="enableEditMode()" tooltip="Change {{panelTitle || \'Person\'}}" tooltip-placement="left"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></div><div ng-show="editMode && person"><a href="" ng-click="disableEditMode()" tooltip="Cancel" tooltip-placement="left"><span class="fa fa-times" aria-hidden="true"></span></a></div></div></div><div class="panel-body"><div ng-show="!editMode && person"><person-info person="person"></person-info></div><div ng-show="editMode || !person"><person-select-create selected-id="{{person.id}}" name="{{panelTitle}}" person-id-changed="personIdChanged"></person-select-create></div></div></div>'),e.put("app/People/Directives/person-select-create.html",'<div class="btn-group btn-group-justified"><label class="btn btn-default" ng-model="mode" btn-radio="\'select\'" uncheckable="">Select</label> <label class="btn btn-default" ng-model="mode" btn-radio="\'create\'" uncheckable="">Create</label></div><div ng-show="mode == \'select\'"><hr><form name="selectForm" ng-submit="selectFormSubmit()" novalidate=""><div class="form-group" ng-class="{\'has-error\': (selectForm.personId.$touched || selectForm.$submitted) && selectForm.personId.$invalid}"><select class="form-control" name="personId" ng-model="selectedId" ng-options="person.id as person.Name for person in people" required=""></select><div ng-show="selectForm.$submitted || selectForm.personId.$touched"><div ng-show="selectForm.personId.$error.required">Person is required</div></div></div><input type="submit" class="btn btn-primary btn-block" value="Save"></form></div><div ng-show="mode == \'create\'"><hr><person-edit-form person="newPerson" form-submit="createFormSubmit"></person-edit-form></div>'),e.put("app/People/People-List/list.html",'<div class="row"><div class="col-xs-12"><h1>People</h1><hr></div></div><div class="row"><div class="col-xs-12 col-sm-3 col-md-3"><ul class="nav nav-pills nav-stacked"><li role="presentation"><a href="#/dogs">Dogs</a></li><li role="presentation" class="active"><a href="#/people">People</a></li></ul><hr><a href="#/person/new" class="btn btn-primary btn-block">Add Person</a><hr><form><label>Filter People:</label><div class="form-group"><div class="input-group"><input ng-model="searchPeople" type="text" class="form-control" placeholder="Name..."><div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div></div></div><label>Type:</label><div class="checkbox"><label><input type="checkbox" ng-model="ownerFlag"> Owners Only</label></div></form></div><div class="col-xs-12 col-sm-9 col-md-9"><div class="list-group"><a href="#/person/{{person.id}}" class="list-group-item" ng-repeat="person in people | orderBy:\'Name\' | filter:searchPeople | filter:isOwner | slice: pagination.limit:((pagination.currentPage-1)*pagination.limit)">{{person.Name}} <span ng-if="person.Dogs.length > 0" class="badge">{{person.Dogs.length}}</span></a><div class="row"><div class="col-xs-12"><pagination total-items="(people | orderBy:\'Name\' | filter:searchPeople | filter:isOwner).length" ng-model="pagination.currentPage" items-per-page="pagination.limit"></pagination></div></div></div></div></div>'),e.put("app/People/People-New/new.html",'<div class="col-sm-4 col-sm-offset-4"><div class="panel panel-default"><div class="panel-heading">Create Person</div><div class="panel-body"><person-edit-form person="person" form-submit="editFormSubmit"></person-edit-form></div></div></div>'),e.put("app/People/People-View/view.html",'<div class="row"><div class="col-xs-12"><button ng-click="ConfirmDelete()" class="btn btn-danger pull-right">Delete</button><h1>{{person.Name}}</h1><hr></div></div><div class="row"><div class="col-sm-4 col-lg-3"><div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading">Information <a href="" class="btn btn-xs btn-link pull-right" ng-click="editInfoBtn()" ng-hide="editingInfo" tooltip="Edit Person"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <a href="" class="btn btn-xs btn-link pull-right" ng-click="cancelInfoBtn()" ng-show="editingInfo" tooltip="Cancel"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></a></div><div class="panel-body"><div ng-hide="editingInfo"><person-info person="person" hide-name="true"></person-info></div><div ng-show="editingInfo"><person-edit-form person="editedPerson" form-submit="editInfoSubmit"></person-edit-form></div></div></div></div></div></div><div class="col-sm-8 col-lg-9"><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading">Dogs</div><div class="panel-body"><dog-card dog="dog" ng-repeat="dog in person.Dogs"></dog-card></div></div></div></div><div class="row"><div class="col-sm-12"><notes-panel notes="person.Notes" on-notes-changed="updateNotes()" default-types="[ \'General\' ]"></notes-panel></div></div></div></div>'),
e.put("app/views/directives/edit-note-model.html",'<div class="modal-header"><h3 class="modal-title">I\'m a modal!</h3></div><div class="modal-body"><ul><li ng-repeat="item in items"><a ng-click="selected.item = item">{{ item }}</a></li></ul>Selected: <b>{{ selected.item }}</b></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button> <button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>'),e.put("app/views/directives/notes-panel.html",'<div class="panel panel-{{panelType || \'default\'}}"><div class="panel-heading">{{panelTitle || \'Notes\'}}</div><div class="panel-body"><tabset><tab ng-repeat="tab in tabs" active="tab.active" disable="tab.disabled"><tab-heading>{{tab.name}} <span class="badge" ng-show="tab.notes.length >= 1">{{tab.notes.length}}</span></tab-heading><div ng-show="tab.notes.length <= 0"><p>No Notes</p></div><div ng-repeat="note in tab.notes"><div class="note-panel note-controls"><a ng-click="comfirmDelete(note)" class="btn btn-link"><i class="fa fa-trash-o"></i></a></div><form novalidate="" class="note-panel note-form"><div class="form-group"><input type="text" class="form-control" placeholder="Note Title" ng-model="note.Title" ng-blur="saveNoteOnBlur(note)"></div><div class="form-group"><textarea class="form-control autoExpand" ng-model="note.Content" rows="6" placeholder="content" ng-blur="saveNoteOnBlur(note)"></textarea></div></form></div><a ng-click="addNote(tab)" class="btn btn-default">New</a> <span class="pull-right"><a ng-click="saveAllNotes()" class="btn btn-primary" ng-show="showSaveBtn">Save</a></span></tab></tabset></div></div>'),e.put("app/views/directives/weight-list.html",'<div class="panel panel-default weight-list"><div class="panel-heading">Weights</div><div class="list-group"><div class="list-group-item"><form name="weightForm" novalidate="" ng-submit="weightFormSubmitted()"><div class="form-group"><div class="input-group" ng-class="{\'has-error\': weightForm.$submitted && weightForm.Weight.$invalid}"><input type="number" class="form-control" ng-disabled="processing" placeholder="weight" ng-model="newWeight.Weight" name="Weight" required=""> <span class="input-group-addon">lb</span> <span class="input-group-btn"><button class="btn btn-primary" ng-disabled="processing" type="submit">Add</button></span></div><div ng-show="weightForm.$submitted || weightForm.$dirty"><div ng-show="weightForm.Weight.$error.required">Weight is required</div><div ng-show="weightForm.Weight.$error.number">Weight must be a number</div></div></div></form></div><div class="list-group-item" ng-repeat="weight in dog.Weights | orderBy : convertDateTakenToDate : true | limitTo : page * countPerPage | limitTo : countPerPage * -1"><div class="row"><div class="col-xs-12"><strong>Date Taken:</strong> {{weight.DateTaken | date : "longDate"}}</div><div class="col-xs-12"><strong>Weight:</strong> {{weight.Weight}} lb</div></div></div><div class="list-group-item paging-btns" ng-hide="dog.Weights.length <= countPerPage"><pagination total-items="dog.Weights.length" ng-model="page" items-per-page="countPerPage" class="pagination-sm" previous-text="newer" next-text="older" max-size="4"></pagination></div></div></div>')}]);